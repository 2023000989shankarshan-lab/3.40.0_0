"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[1992],{68334:(e,t,a)=>{a.d(t,{d:()=>f});var n=a(33998),s=a(34900),r=a(22155),o=a(30395),l=a.n(o);const i="_5r2X27zKbL3K-0KuztabLA==",c="_9VJTarzDvJAPMOKQbzHeEQ==",m="+hRUmPa5hVn8ncwI9jw3WQ==",d="D5NR++a7+cgnxCM1YywMSg==";var u=["className","labelClassName","inputId","name","checked","children","onToggle","compact","defaultTypo","disabled"],p=r.createElement;function b(e,t){var a=e.className,r=e.labelClassName,o=e.inputId,b=e.name,f=e.checked,h=e.children,k=e.onToggle,y=e.compact,g=void 0===y||y,N=e.defaultTypo,v=void 0===N||N,w=e.disabled,x=(0,s.A)(e,u);return p("label",{className:l()(a,"group relative flex items-center",w?"pointer-events-none cursor-not-allowed opacity-32":"cursor-pointer",m),htmlFor:o,ref:t},p("input",(0,n.A)({},x,{disabled:w,id:o,name:b,type:"checkbox",checked:f,onChange:k,className:"absolute h-0 w-0 opacity-0"})),p("span",{className:l()("relative block",g?"h-4 w-8":"h-5 w-10")},p("span",{className:l()("absolute bottom-0 left-0 top-0 my-auto w-full bg-theme-overlay-quaternary",g?"h-2.5 rounded-3":"h-3 rounded-4",i)}),p("span",{className:l()("absolute left-0 top-0 bg-text-tertiary",g?"h-4 w-4 rounded-3":"h-5 w-5 rounded-6",c)})),h&&p("span",{className:l()("ml-3 font-bold text-text-tertiary",v&&"typo-footnote",d,r)},h))}var f=r.forwardRef(b)},56508:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var n=a(33998),s=a(34900),r=a(22155),o=a(30395),l=a.n(o),i=a(5698),c=a(94198),m=a(63423),d=a(95412),u=a(74689),p=a(16763),b=a(61663),f=a(57952),h=a(30530),k=a(80244),y=a(9495),g=a(71623),N=a(68334),v=a(2564),w=a(42104),x=a(10665),S=r.createElement;const R=function(e){var t=e.className,a=(0,k.Z2)().user,n=(0,b.DX)().logEvent,s=(0,x.IR)().onEnablePush,r=(0,v.o)(),o=r.getPersonalizedDigest,l=r.subscribePersonalizedDigest,i=r.unsubscribePersonalizedDigest,c=o(w.Cs.StreakReminder);return S(N.d,{checked:!!c,"data-testid":"streak-reminder-switch",inputId:"streak-reminder-switch",name:"streak-reminder",defaultTypo:!0,className:t,labelClassName:"font-bold",compact:!1,onToggle:function(){var e=!c;n({event_name:e?f.VB.EnableNotification:f.VB.DisableNotification,extra:JSON.stringify({channel:f.rl.Web,category:f.aF.StreakReminder})}),e?(n({event_name:f.VB.ScheduleStreakReminder,extra:JSON.stringify({hour:20,timezone:null==a?void 0:a.timezone})}),l({hour:20,sendType:v.N.Workdays,type:w.Cs.StreakReminder}),s(f.vH.ReadingReminder)):i({type:w.Cs.StreakReminder})}},"Remind me to keep my streak")};var C=["currentStreak","maxStreak","onRequestClose"],D=r.createElement,E=(0,m.A)("p","text-center text-text-tertiary");function z(e){var t=e.currentStreak,a=e.maxStreak,o=e.onRequestClose,m=(0,s.A)(e,C),N=(0,i.jE)(),v=(0,k.Z2)().user,w=(0,b.DX)().logEvent,x=(0,y.d)(),S=x.completeAction,z=(0,x.checkHasCompleted)(g.X2.DisableReadingStreakMilestone),A=t>=a,T=1===t?"day":"days",_=(0,r.useRef)(!1);(0,r.useEffect)((function(){_.current||(N.invalidateQueries({queryKey:(0,h.$h)(h.jZ.UserStreak,v)}),w({event_name:f.VB.Impression,target_type:f.yK.StreaksMilestone,target_id:t}),_.current=!0)}),[t,N,w,v]);return D(c.aF,(0,n.A)({},m,{kind:c.aF.Kind.FlexibleCenter,size:c.aF.Size.XSmall,onRequestClose:o,isDrawerOnMobile:!0}),D(c.aF.Body,{className:"items-center overflow-hidden !pt-0"},D("div",{className:"relative flex h-14 w-full items-center justify-center tablet:justify-start"},D(R,null),D(u.O,{onClick:o,className:"!-right-4 top-2"})),D("span",{className:"relative flex flex-col items-center justify-center"},D("img",{src:A?p.WE:p.lx,alt:A?"A splash design for background":"A large fire icon",className:l()("h-[10rem] text-accent-bacon-default",A?"ml-2 w-[15rem]":"w-[10rem] ")}),D("strong",{className:"absolute typo-tera"},t),A&&D("span",{className:"absolute mt-44 typo-tera"},"üèÜ")),D("strong",{className:l()("typo-title1",A?"mt-20":"mt-10")},A?"New streak record!":"".concat(t," ").concat(T," streak")),D(E,{className:l()("typo-body",A?"mt-3":"mt-5")},A?"Epic win! You are in a league of your own":"New milestone reached! You are unstoppable."),D(d.S,{name:"show_streaks",className:"mt-10",checked:z,onToggleCallback:function(){z||(w({event_name:f.VB.DismissStreaksMilestone}),S(g.X2.DisableReadingStreakMilestone))}},"Never show this again")))}}}]);