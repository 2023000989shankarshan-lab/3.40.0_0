"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[9152],{71561:(e,t,n)=>{n.d(t,{A:()=>i});var r,a=n(22155);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const i=function(e){return a.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M15.394 15.394a2.052 2.052 0 012.763-.126l.138.126 2.127 2.128.128.144a2.052 2.052 0 01-1.123 3.278l-.192.038-.208.018h-.181a2.045 2.045 0 01-1.205-.47l-.141-.129-2.127-2.128-.128-.144a2.052 2.052 0 01.025-2.6l.124-.135zM9.75 3a6.75 6.75 0 01.511 13.482l-.251.014-.271.005-.26-.005A6.75 6.75 0 019.75 3z",fill:"currentcolor",fillRule:"evenodd"})))}},81947:(e,t,n)=>{n.d(t,{A:()=>i});var r,a=n(22155);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const i=function(e){return a.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M10 3a7 7 0 016.068 10.492 2.813 2.813 0 012.076.67l.157.147 1.872 1.871a2.823 2.823 0 01-3.852 4.125l-.14-.132-1.872-1.872a2.817 2.817 0 01-.818-2.234A7 7 0 1110 3zm7.24 12.37a1.323 1.323 0 00-1.967 1.763l.096.108 1.872 1.871c.241.242.552.37.868.386h.135l.135-.014a1.324 1.324 0 00.83-2.136l-.097-.107-1.871-1.872zM10 4.5a5.5 5.5 0 00-.221 10.996L10 15.5l.221-.004A5.5 5.5 0 0010 4.5z",fill:"currentcolor",fillRule:"evenodd"})))}},84178:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(56594),a=n(35001),l=n(13318),i=n.n(l),o=n(22155),u=n(13706),s=n.n(u),c=n(77535),d=n(30395),f=n.n(d),p=n(79887);var v=n(34229),h=n(4394),m=n(56638),y=n(42104),b=n(36899),g=n(15360),x=n(55551),I=n(23781),w=o.createElement,k=s()((function(){return n.e(7286).then(n.bind(n,84746))}),{ssr:!1,loadableGenerated:{webpack:function(){return[84746]}}}),A={searchPostSuggestions:h.cy,searchBookmarksSuggestions:m.tC,searchReadingHistorySuggestions:y.P4};function S(e){var t=e.initialQuery,n=e.autoFocus,l=void 0===n||n,u=e.placeholder,s=e.onSubmitQuery,d=e.className,m=e.suggestionType,y=void 0===m?"searchPostSuggestions":m,S=e.onFocus,C=e.onClearQuery,F=(0,I.s)(),N=F.time,O=F.contentCurationFilter,E=(0,o.useRef)(),P=(0,o.useState)(),z=P[0],B=P[1],q=(0,o.useState)(),T=q[0],R=q[1],M=(0,o.useState)(null),L=M[0],j=M[1],K=(0,o.useState)([]),D=K[0],G=K[1],Q=(0,g.G)({feature:x.N4.searchVersion,shouldEvaluate:!!T&&"searchPostSuggestions"===y}).value,H=A[y],X=(0,c.I)({queryKey:[y,T],queryFn:function(){return b.e.request(H,{query:T,version:Q})},enabled:!!T}),J=X.data,W=X.isPending;(0,o.useEffect)((function(){z||B(t)}),[t]);var Y=function(){return j(null)},$=function(){if(!L){var e=E.current.getBoundingClientRect(),t=e.left,n=e.bottom,r=e.width;j({x:t,y:n+window.scrollY,width:r})}};(0,o.useEffect)((function(){var e,t,n;W||(null!=D&&D.length||null==J||null===(e=J[y])||void 0===e||!e.hits.length||$(),G(null!==(t=null==J||null===(n=J[y])||void 0===n?void 0:n.hits.map((function(e){return e.title})))&&void 0!==t?t:[]))}),[J,W]);var V=function(){var e=(0,a.A)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null==t||null===(n=t.replace)||void 0===n?void 0:n.call(t,h.F,""),e.next=3,s(r||T,{filters:{time:N.toString(),contentCuration:O}});case 3:r&&B(r),Y();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e,t){var n=(0,o.useState)(-1),r=n[0],a=n[1];return(0,o.useEffect)((function(){a(-1)}),[e]),{selectedItemIndex:r,onKeyDown:function(n){if(40===n.keyCode||38===n.keyCode){n.preventDefault();var l=e.length+1;if(r>-1){var i=40===n.keyCode?1:-1;a(((r+i)%l+l)%l)}else a(40===n.keyCode?0:l-1)}else 13===n.keyCode&&t(r>-1&&e[r])}}}(D,V),U=Z.selectedItemIndex,_=Z.onKeyDown,ee=(0,v.A)((function(e){return R(e)}),100),te=(0,r.A)(ee,1)[0];(0,o.useEffect)((function(){var e;l&&(null===(e=E.current)||void 0===e||e.querySelector("input").focus())}),[E,l]);var ne=!!L&&!!D.length;return w(o.Fragment,null,w(p.L,{className:f()("compact flex-1",d),inputId:"posts-search",fieldSize:"medium",placeholder:null!=u?u:"Find posts",ref:E,value:z,valueChanged:function(e){if(!e.length)return Y(),R(""),void(null==C||C());e&&e!==t&&te(e),null===L&&$()},onKeyDown:_,onBlur:function(){null!=T&&T.length&&Y()},onFocus:function(e){null==S||S(e),null!=D&&D.length&&$()},"aria-haspopup":"true","aria-expanded":ne}),w(k,{placement:L,items:D,focusedItemIndex:U,onItemClick:V,isOpen:ne}))}},77501:(e,t,n)=>{n.d(t,{Ay:()=>f,Q0:()=>c,mi:()=>u,pJ:()=>s});var r=n(30395),a=n.n(r),l=n(22155),i=n(86548),o=l.createElement,u=function(e){var t=e.readOnly,n=e.isLocked,r=e.hasInput,a=e.disabled,l=e.focused,i=e.isPrimaryField;return t||n||r&&!l||i&&r?"text-text-tertiary":a?"text-text-disabled":"text-text-primary"},s=function(e){var t=e.readOnly,n=e.isLocked,r=e.disabled,a=e.focused,l=e.hasInput,i=e.hasActionIcon;return t&&i||l?"text-text-primary":t||n?"text-text-quaternary":r?"text-text-disabled":a?"text-text-quaternary":"text-text-tertiary hover:text-text-primary"},c=function(e){var t=e.isSecondaryField,n=e.isTertiaryField,r=e.placeholder,a=e.focused,l=e.label;return n?a?r:l:a||t?null!=r?r:"":l};function d(e,t){var n=e.className,r=void 0===n?{}:n,l=e.fieldType,s=void 0===l?"primary":l,c=e.readOnly,d=e.isLocked,f=e.hasInput,p=e.disabled,v=e.focused,h=e.inputId,m=e.label,y=e.children,b=e.invalid,g=e.hint,x=e.hintIcon,I=e.saveHintSpace,w=e.focusInput,k="secondary"===s;return o("div",{ref:t,className:a()("flex flex-col",r.container)},k&&o("label",{className:a()("mb-1 px-2 font-bold typo-caption1",r.outerLabel,u({readOnly:c,isLocked:d,hasInput:f,disabled:p,focused:v})),htmlFor:h},m),o(i.s,{"data-testid":"field",onClick:w,className:a()("relative flex",k?"rounded-10":"rounded-14",r.baseField,{readOnly:c,focused:v,invalid:b})},y),((null==g?void 0:g.length)||I)&&o("div",{role:b?"alert":void 0,className:a()("mt-1 flex items-center gap-1 px-2 typo-caption1",I&&"h-4",b?"text-status-error":"text-text-quaternary",r.hint)},x||void 0,g))}const f=(0,l.forwardRef)(d)},79887:(e,t,n)=>{n.d(t,{L:()=>x});var r=n(33998),a=n(34900),l=n(22155),i=n(30395),o=n.n(i),u=n(95098),s=n(86548),c=n(67371),d=n(13707),f=n(181),p=n(53823),v=n(83448),h=n(77501),m=["isPrimary"],y=["inputId","name","value","valueChanged","placeholder","fieldSize","readOnly","fieldType","className","autoFocus","type","disabled","rightButtonProps","aria-describedby","aria-label","onBlur","onFocus","showIcon"],b=l.createElement,g=function(e){var t=e.isPrimary,n=(0,a.A)(e,m);return t?b(c.d,n):b(d.HK,(0,r.A)({},n,{className:"rotate-90"}))},x=(0,l.forwardRef)((function(e,t){var n=e.inputId,l=e.name,i=e.value,d=e.valueChanged,m=e.placeholder,x=void 0===m?"Search":m,I=e.fieldSize,w=void 0===I?"large":I,k=e.readOnly,A=e.fieldType,S=void 0===A?"primary":A,C=e.className,F=e.autoFocus,N=e.type,O=e.disabled,E=e.rightButtonProps,P=void 0===E?{type:"button"}:E,z=e["aria-describedby"],B=e["aria-label"],q=e.onBlur,T=e.onFocus,R=e.showIcon,M=void 0===R||R,L=(0,a.A)(e,y),j=(0,u.G)(i,d),K=j.inputRef,D=j.focused,G=j.hasInput,Q=j.onFocus,H=j.onBlur,X=j.onInput,J=j.focusInput,W=j.setInput,Y=function(e){e.stopPropagation(),W(null)},$="primary"===S,V="secondary"===S,Z="medium"===w?"h-10 rounded-12":"h-12 rounded-14";return b(s.s,(0,r.A)({},L,{className:o()("items-center !border !border-border-subtlest-tertiary !bg-background-default",Z,C,{focused:D}),onClick:J,"data-testid":"searchField",ref:t}),!!M&&(V&&G?b(p.$n,{"aria-label":"Clear input text",className:"mr-2",size:v.Mp.XSmall,variant:v.Ak.Tertiary,title:"Clear query",onClick:Y,icon:b(c.d,{className:"icon text-lg group-hover:text-text-primary"}),disabled:!G}):b(f.W,{"aria-hidden":!0,className:"icon mr-2 text-2xl",role:"presentation",secondary:D,style:{color:D||G?"var(--theme-text-primary)":"var(--field-placeholder-color)"}})),b(s.T,{"aria-label":B,disabled:O,placeholder:x,name:l,id:n,ref:K,onFocus:function(e){Q(),null==T||T(e)},onBlur:function(e){H(),null==q||q(e)},onInput:X,autoFocus:F,type:N,"aria-describedby":z,autoComplete:"off",className:o()("flex-1",Z,(0,h.pJ)({readOnly:k,disabled:O,hasInput:G,focused:D})),required:!0}),(G&&$||V)&&!!P&&b(p.$n,(0,r.A)({},P,{variant:V?v.Ak.Primary:v.Ak.Tertiary,size:P.size||v.Mp.XSmall,title:P.title||"Clear query",onClick:"submit"!==P.type?Y:P.onClick,icon:b(g,{"aria-hidden":!0,role:"presentation",isPrimary:$}),disabled:(null==P?void 0:P.disabled)||!G})))}))},86548:(e,t,n)=>{n.d(t,{T:()=>l,s:()=>i});var r=n(63423),a=n(94992),l=(0,r.A)("input","min-w-0 bg-transparent typo-body caret-text-link focus:outline-none"),i=(0,r.A)("div","flex px-4 overflow-hidden bg-surface-float border border-transparent cursor-text",a.A.field)},181:(e,t,n)=>{n.d(t,{W:()=>d});var r=n(33998),a=n(34900),l=n(22155),i=n(97838),o=n(81947),u=n(71561),s=["size"],c=l.createElement,d=function(e){var t=e.size,n=(0,a.A)(e,s);return c(i.Ay,(0,r.A)({},n,{size:t,IconPrimary:o.A,IconSecondary:u.A}))}},95098:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(22155);function a(e,t){var n=(0,r.useRef)(null),a=(0,r.useState)(!1),l=a[0],i=a[1],o=(0,r.useState)(!1),u=o[0],s=o[1],c=function(e){n.current.value=e,n.current.dispatchEvent(new Event("input",{bubbles:!0}))};(0,r.useEffect)((function(){var t;void 0!==e&&(c((null==e?void 0:e.toString())||""),s(!(null==n||null===(t=n.current)||void 0===t||null===(t=t.value)||void 0===t||!t.length)))}),[e]);return{inputRef:n,focused:l,hasInput:u,onFocus:function(){return i(!0)},onBlur:function(){return i(!1)},onInput:function(e){t&&t(e.currentTarget.value);var n=e.currentTarget.value.length;!u&&n?s(!0):u&&!n&&s(!1)},focusInput:function(){n.current.focus()},setInput:c}}},94992:(e,t,n)=>{n.d(t,{A:()=>r});const r={field:"OSaZMMeM+axN9uO6jYIrXA=="}}}]);