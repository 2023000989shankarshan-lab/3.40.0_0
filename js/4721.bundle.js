(self.webpackChunkextension=self.webpackChunkextension||[]).push([[4721],{75653:(e,t,r)=>{"use strict";r.d(t,{T:()=>h});var n=r(22155),o=r(30395),a=r.n(o),i=r(96888),l=r(60665),u=r(53823),c=r(83448),s=r(95974),d=r(54883),p=r(76800),v=r(80244),f=r(81602),m=r(57952),g=r(61663),y=r(77955),b=r(13713),C=n.createElement,h=function(e){var t,r=e.className,o=e.onPlusClick,h=e.hideBuyButton,k=(0,b.f1)(),O=null!==(0,y.k3)().onRequestClose,P=(0,v.Z2)().user,E=!h,N=(0,g.DX)().logEvent;return k?C("div",{className:a()("flex items-center rounded-10 bg-surface-float",r)},C(s.A,{href:d.JY,passHref:!0},C(u.$n,{tag:"a",target:O?"_blank":void 0,rel:p.O8,variant:c.Ak.Tertiary,icon:C(i.t,null),size:c.Mp.Small},(0,f.Kt)((null==P||null===(t=P.balance)||void 0===t?void 0:t.amount)||0))),E?C(n.Fragment,null,C("div",{className:"h-[1.375rem] w-px bg-border-subtlest-tertiary"}),C(u.$n,{variant:c.Ak.Tertiary,icon:C(l.c,null),size:c.Mp.Small,onClick:function(){N({event_name:m.VB.StartBuyingCredits,extra:JSON.stringify({origin:m.$e.Award})}),null==o||o()}})):null):null}},12602:(e,t,r)=>{"use strict";r.d(t,{IA:()=>_e});var n=r(34900),o=r(35001),a=r(14728),i=r(33998),l=r(21441),u=r(13318),c=r.n(u),s=r(30395),d=r.n(s),p=r(22155),v=r(5698),f=r(77535),m=r(80446),g=r(95974),y=r(77955),b=r(94198),C=r(72870),h=r(89113),k=(0,p.createContext)(void 0),O=function(){return(0,p.useContext)(k)},P="INTRO",E="PROCESSING",N=r(75653),S=r(53823),I=r(83448),_=r(67380),R=r(96888),w=r(97838),T=r(57952),A=r(61663),x=r(41536),j=r(16763),D=r(68390),F=p.createElement,L=function(e){var t=e.id,r=e.priceFormatted,n=e.cores,o=e.label,a=e.isLoading,i=e.isDisabled,l=(0,C.G6)(C.bh.MobileL),u=(0,A.DX)().logEvent,c=O(),s=c.selectedProduct,v=c.setSelectedProduct,f=c.openCheckout,m=c.origin,g=c.paddle,y=(0,p.useCallback)((function(){u({event_name:T.VB.SelectCreditsQuantity,extra:JSON.stringify({origin:m,quantity:null==s?void 0:s.value})}),v({id:t,value:n}),l||f({priceId:t})}),[u,m,t,v,n,l,f,s]);return F(S.$n,{className:d()("w-full",(null==s?void 0:s.id)===t?"border-action-cores-default bg-action-cores-float":void 0),variant:I.Ak.Float,icon:F(x._V,{className:"mr-2 size-8",src:(0,j.qQ)(n),fallbackSrc:j.dX}),size:I.Mp.Large,"aria-checked":(null==s?void 0:s.id)===t,role:"radio",onClick:y,disabled:i||!(0,D.Ji)()&&!g,loading:a},F(_.o5,{type:_.kR.Body,color:_.X8.Primary,bold:!0},o),F("div",{className:"flex-1"}),F(_.o5,{type:_.kR.Callout,color:_.X8.Tertiary,className:"font-normal"},r))},B=function(){return F(S.$n,{className:"w-full",variant:I.Ak.Float,size:I.Mp.Large,disabled:!0},F(_.o5,{type:_.kR.Body,color:_.X8.Primary,bold:!0}))},X=r(73855),K=r(37567),M=r(80244),V=p.createElement,q=function(){var e=(0,M.Z2)(),t=e.user,r=e.isLoggedIn,n=O().selectedProduct,o=(0,p.useState)(!1),a=o[0],i=o[1],l=(0,f.I)((0,K.Fd)({user:t,isLoggedIn:r})),u=l.data,c=l.isPending;return(0,p.useEffect)((function(){return(0,D.HD)("iap-loading",(function(e){var t=e.detail;i((0,X.PK)(t))}),{once:!1}).catch((function(){i(!1)})),function(){var e;null===globalThis||void 0===globalThis||null===(e=globalThis.eventControllers)||void 0===e||null===(e=e["iap-loading"])||void 0===e||e.abort()}}),[]),V("ul",{className:"mt-4 flex flex-col gap-2",role:"radiogroup"},c&&new Array(9).fill(null).map((function(e,t){return V(B,{key:t})})),!c&&(null==u?void 0:u.map((function(e){return V(L,{key:e.priceId,id:e.priceId,label:e.metadata.title,cores:e.metadata.coresValue,priceFormatted:e.price.formatted,isLoading:a&&e.priceId===(null==n?void 0:n.id),isDisabled:a})}))))},z=p.createElement,U=function(e){var t=e.title,r=O(),n=r.amountNeeded,o=r.selectedProduct;return n&&o?z(p.Fragment,null,z(_.o5,{className:"w-full flex-1",type:_.kR.Callout,color:_.X8.Secondary},z(_.o5,{tag:_.UL.Span,color:_.X8.Primary,bold:!0},(0,X.rZ)(n)," Cores")," ","will be used to give the Award. The remaining"," ",z(_.o5,{tag:_.UL.Span,color:_.X8.Primary,bold:!0},(0,X.rZ)(o.value-n)," Cores")," ","will be added to your balance.")):z(_.o5,{className:"w-full flex-1",type:_.kR.Callout,color:_.X8.Secondary},null!=t?t:"Choose how many Cores to buy.")},J=r(30530),G=r(81565),H=r(54883),Z=r(30794),$=r(61027);var W=r(4315),Y=r(13713),Q=r(83362),ee=r(89334),te=p.createElement,re=function(e){var t=e.onCompletion,r=e.origin,n=e.amountNeeded,o=e.children,a=(0,M.Z2)(),i=a.user,l=a.isLoggedIn,u=(0,A.DX)().logEvent,c=(0,p.useState)({step:P}),s=c[0],d=c[1],v=(0,p.useState)(),m=v[0],g=v[1];(0,p.useRef)().current=u;var y=(0,f.I)((0,K.Fd)({user:i,isLoggedIn:l})).data,b=function(e){var t=e.priceId;return(0,K.WP)({priceId:t,prices:y})},C=(0,p.useRef)(b);C.current=b;var h=(0,ee.W)({successCallback:function(e){d({step:E,providerTransactionId:e.data.transaction_id})},getProductQuantity:function(e){var t;return C.current({priceId:null===(t=e.data.items[0])||void 0===t?void 0:t.price_id})},priceType:Q.sE.Cores}),O=h.paddle,N=h.openCheckout,S=(0,p.useMemo)((function(){return{paddle:O,amountNeeded:n,onCompletion:t,activeStep:s.step,error:s.error,setActiveStep:d,selectedProduct:m,setSelectedProduct:g,openCheckout:N,providerTransactionId:s.providerTransactionId,origin:r}}),[s,n,t,N,r,O,m]);return te(k.Provider,{value:S},o)},ne=r(35600),oe=p.createElement,ae=function(e){var t=e.onCompletion,r=e.origin,n=e.amountNeeded,o=e.children,a=(0,M.Z2)(),i=a.user,l=a.isLoggedIn,u=(0,p.useState)({step:P}),c=u[0],s=u[1],d=(0,p.useState)(),v=d[0],m=d[1],g=(0,f.I)((0,K.Fd)({user:i,isLoggedIn:l})).data,y=(0,ne.R)({products:g,type:Q.sE.Cores,successCallback:function(e){s({step:E,providerTransactionId:e.detail.transactionId})}}).openCheckout,b=(0,p.useMemo)((function(){return{amountNeeded:n,onCompletion:t,activeStep:c.step,error:c.error,setActiveStep:s,selectedProduct:v,setSelectedProduct:m,openCheckout:y,providerTransactionId:c.providerTransactionId,origin:r}}),[c,n,t,y,r,v]);return oe(k.Provider,{value:b},o)},ie=["children"],le=p.createElement,ue=function(e){var t=e.children,r=(0,n.A)(e,ie);return(0,D.Ji)()?le(ae,r,t):le(re,r,t)},ce=r(63815),se=["onPlusClick","amountNeededCopy"],de=["origin","onCompletion","product"],pe=p.createElement;function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me=function(e){var t=e.className,r=e.title,n=e.showCoresAtCheckout,o=e.amountNeededCopy,a="string"==typeof o;return pe("div",{className:d()("flex-1",t)},r,pe("div",{className:"flex flex-1 items-center justify-between gap-4"},!o||a?pe(U,{title:a?o:void 0}):o,!!n&&pe(N.T,{hideBuyButton:!0})),pe(q,null))},ge=function(e){var t=e.className,r=(0,$.p)();return pe("div",{className:d()("flex-1",r&&"bg-black",t)},pe("div",{className:"checkout-container"}))},ye=(0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},K.kr.Created,"Checking your data..."),K.kr.Processing,"Processing your payment, please wait..."),K.kr.Success,"Almost done..."),K.kr.ErrorRecoverable,"There was an issue, retrying..."),K.kr.Error,pe(p.Fragment,null,"Something went wrong!",pe("br",null),pe(g.A,{href:H.JY},pe(_.o5,{type:_.kR.Footnote},pe("u",null,"check status here"))))),be=function(e){var t=e.transaction,r=ye[null==t?void 0:t.status]||ye[K.kr.Processing],n=(null==t?void 0:t.status)===K.kr.Error;return pe(p.Fragment,null,pe(R.t,{size:w.lK.XXXLarge}),pe(_.o5,{type:_.kR.Title3,bold:!0},r),!n&&pe(Z.a,{className:"hidden tablet:block"}))},Ce=function(){var e=O(),t=e.onCompletion,r=e.selectedProduct;return pe(p.Fragment,null,pe(R.t,{size:w.lK.XXXLarge}),pe(_.o5,{type:_.kR.LargeTitle,bold:!0},(0,X.rZ)(r.value)),pe(_.o5,{type:_.kR.Title3,bold:!0},"You got your Cores!"),pe(_.o5,{type:_.kR.Callout,color:_.X8.Tertiary},"Success! Your Cores are now available in your balance."),pe(S.$n,{onClick:t,variant:I.Ak.Primary,className:"w-full"},"Got it"))},he=function(){var e=O().error||{},t=e.title,r=e.description,n=e.onRequestClose;return pe(p.Fragment,null,pe(R.t,{size:w.lK.XXXLarge}),pe(_.o5,{type:_.kR.Title3,bold:!0},t||"There was an error processing your transaction."),r&&pe(_.o5,{type:_.kR.Callout,color:_.X8.Tertiary},r),pe(S.$n,{onClick:function(){null==n||n()},variant:I.Ak.Primary,className:"w-full"},"Got it"))},ke=function(e){var t,r=(0,i.A)({},((0,a.A)(e),e)),n=(0,m.useRouter)(),l=(0,M.Z2)(),u=l.user,s=l.updateUser,d=O(),g=d.onCompletion,y=d.activeStep,C=d.setActiveStep,h=d.error,k="PROCESSING"===y,P=(0,v.jE)(),E=(0,p.useCallback)((function(){return!k}),[k]),N=function(e){var t=e.message,r=void 0===t?"You have unsaved changes that will be lost if you leave the page":t,n=e.onValidateAction,o=(0,p.useRef)(!0),a=(0,m.useRouter)(),i=(0,p.useCallback)((function(){return!o.current||n()}),[n]);return(0,p.useEffect)((function(){if(a.isReady){var e=function(e){i()||(e.preventDefault(),e.returnValue=r)},t=function(){if(!i()&&!confirm(r))throw a.events.emit("routeChangeError"),new Error("Cancelling navigation")};return window.addEventListener("beforeunload",e),a.events.on("routeChangeStart",t),function(){window.removeEventListener("beforeunload",e),a.events.off("routeChangeStart",t)}}}),[i,r,a]),{onAskConfirmation:function(e){o.current=e}}}({message:W.W.cores.error.transactionProcessing.description,onValidateAction:E}),S=N.onAskConfirmation,I=O().providerTransactionId,_=(0,f.I)({queryKey:[J.jZ.Transactions,{providerId:I}],queryFn:(t=(0,o.A)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,K.FW)({providerId:I});case 2:return null!=(t=e.sent)&&t.balance&&s(fe(fe({},u),{},{balance:t.balance})),P.invalidateQueries({queryKey:(0,J.$h)(J.jZ.Transactions,u),exact:!1}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),enabled:!!I,refetchInterval:function(e){var t;if(Math.max(e.state.dataUpdateCount,e.state.fetchFailureCount)>1e3*G.xP/K.Np)return S(!1),C({step:"PROCESSING_ERROR",error:{title:"Processing timed out",description:"Please check the status of your transaction in your Core Wallet.",onRequestClose:function(){n.push(H.JY)}}}),!1;if(e.state.error)return K.Np;var r=null===(t=e.state.data)||void 0===t?void 0:t.status;return[K.kr.Created,K.kr.Processing,K.kr.ErrorRecoverable].includes(r)?K.Np:([K.kr.Error,K.kr.InternalError].includes(r)&&(C({step:"PROCESSING_ERROR",error:{title:"There was an issue processing your transaction.",description:"Please contact support.",onRequestClose:function(){C({step:"INTRO"})}}}),S(!1)),!1)}}),R=_.data;return(0,p.useEffect)((function(){(null==R?void 0:R.status)===K.kr.Success&&C({step:"COMPLETED",providerTransactionId:I})}),[null==R?void 0:R.status,I,C]),pe(b.aF,(0,i.A)({kind:b.aF.Kind.FlexibleCenter,size:b.aF.Size.XSmall},r,{onRequestClose:function(){var e;return"PROCESSING_ERROR"===y?null==h||null===(e=h.onRequestClose)||void 0===e?void 0:e.call(h):g()},isDrawerOnMobile:!0}),pe(b.aF.Body,{className:"flex items-center justify-center gap-4 text-center"},k&&pe(be,{transaction:R}),"COMPLETED"===y&&pe(Ce,null),"PROCESSING_ERROR"===y&&pe(he,null)))},Oe=function(e){var t=e.amountNeededCopy,r=O(),n=r.selectedProduct,o=r.openCheckout,a=r.paddle;return(0,p.useEffect)((function(){(a||(0,ce.R4)())&&n&&o({priceId:n.id})}),[o,n,a]),(0,ce.R4)()?pe(h.c,{className:d()("bg-gradient-to-t from-theme-overlay-float-bun to-transparent")},pe(me,{amountNeededCopy:t})):pe(h.c,{className:d()("bg-gradient-to-t from-theme-overlay-float-bun to-transparent",n&&"!p-0")},n?pe(ge,{className:"p-6"}):pe(me,{amountNeededCopy:t}))},Pe=function(){return pe("div",{className:"relative flex h-[582px] max-h-full flex-1"},pe("video",{className:"bg-blue-500 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform",poster:j.Ik,src:j.$0,muted:!0,autoPlay:!0,loop:!0,playsInline:!0,disablePictureInPicture:!0,controls:!1}))},Ee=function(e){var t=e.amountNeededCopy,r=O().selectedProduct;return pe(h.c,{className:d()("bg-gradient-to-t from-theme-overlay-float-bun to-transparent !p-0 tablet:rounded-b-16")},pe("div",{className:"flex flex-1 flex-row"},pe(me,{className:"p-6",amountNeededCopy:t}),pe(ge,{className:d()(!r&&"hidden","rounded-br-16 p-6")}),pe("div",{className:d()("flex flex-1 overflow-hidden rounded-br-16",r&&"hidden")},!r&&pe(Pe,null))))},Ne=function(e){var t=e.onPlusClick,r=e.amountNeededCopy,o=(0,n.A)(e,se),a=(0,C.G6)(C.bh.MobileL),l=(0,Y.P_)();return pe(b.aF,(0,i.A)({kind:a?y.UB.FlexibleTop:b.aF.Kind.FlexibleCenter,size:b.aF.Size.XLarge,className:d()(a?void 0:"!h-[40rem]")},o),pe(b.aF.Header,{title:a?void 0:"Get More Cores",className:"mr-auto flex-row-reverse justify-between gap-4 laptop:justify-end",showCloseButton:!a},pe(N.T,{hideBuyButton:!l,onPlusClick:t}),a&&pe(S.$n,{onClick:o.onRequestClose,variant:I.Ak.Tertiary,size:I.Mp.Small,className:"mr-2"},"Close")),pe(a?Oe:Ee,{amountNeededCopy:r}))},Se=function(e){var t=O().activeStep;return["PROCESSING","COMPLETED","PROCESSING_ERROR"].includes(t)?pe(ke,e):null},Ie=function(e){var t=(0,i.A)({},((0,a.A)(e),e)),r=O().activeStep;return pe(p.Fragment,null,pe(Se,t),"INTRO"===r&&pe(Ne,t))},_e=function(e){var t=e.origin,r=e.onCompletion,o=e.product,a=(0,n.A)(e,de);return pe(ue,{amountNeeded:null==o?void 0:o.value,onCompletion:r,origin:t},pe(Ie,a))}},35600:(e,t,r)=>{"use strict";r.d(t,{R:()=>f});var n=r(22155),o=r(36899),a=r(68390),i=r(57952),l=r(49556),u=r(80244),c=r(63815),s=r(68392),d=r(61663),p=r(80197),v={cores:c.NB.IAPCoresPurchase,plus:c.NB.IAPSubscriptionRequest,organization:c.NB.IAPSubscriptionRequest},f=function(e){var t,r=e.type,f=e.products,m=e.successCallback,g=i.E4[r],y=v[r],b=(0,s.mu)().displayToast,C=(0,u.Z2)().user,h=(0,n.useRef)(m);h.current=m;var k=(0,d.DX)().logEvent,O=(0,n.useRef)(k);O.current=k;var P=(0,n.useCallback)((function(e){var t,r=e.priceId;(0,c.Ks)(y,{productId:r,appAccountToken:null==C||null===(t=C.subscriptionFlags)||void 0===t?void 0:t.appAccountToken})}),[null==C||null===(t=C.subscriptionFlags)||void 0===t?void 0:t.appAccountToken,y]);return(0,n.useEffect)((function(){var e="iap-purchase-event";return(0,a.HD)(e,(function(e){var t,r=e.detail,n=r.name,a=r.detail,u=r.product,c=null==f?void 0:f.find((function(e){var t;return e.priceId===(null==u||null===(t=u.attributes)||void 0===t?void 0:t.offerName)}));switch(n){case p.Rc.PurchaseCompleted:O.current({event_name:i.VB.CompleteCheckout,target_type:g,extra:JSON.stringify({quantity:c.metadata.coresValue,user_id:null==C?void 0:C.id,cycle:c.duration,localCost:u.attributes.offers[0].price,localCurrency:u.attributes.offers[0].currencyCode,payment:l.d.AppleStoreKit})}),null===(t=h.current)||void 0===t||t.call(h,e);break;case p.Rc.PurchaseInitiated:O.current({event_name:i.VB.InitiatePayment,target_type:g});break;case p.Rc.PurchaseFailed:O.current({event_name:i.VB.ErrorCheckout,target_type:g,extra:JSON.stringify({errorCode:a})}),b(o.XW);break;case p.Rc.PurchasePending:b("Please wait for the purchase to be completed.");case p.Rc.PurchaseCancelled:}}),{once:!1}),function(){var t;null===globalThis||void 0===globalThis||null===(t=globalThis.eventControllers)||void 0===t||null===(t=t[e])||void 0===t||t.abort()}}),[b,f,g,null==C?void 0:C.id]),{openCheckout:P}}},89334:(e,t,r)=>{"use strict";r.d(t,{W:()=>m});var n=r(21441),o=r(22155),a=r(15132),i=r(80446),l=r(80244),u=r(61663),c=r(57952),s=r(54883),d=r(68390),p=r(83362);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t,r=e.successCallback,n=e.disabledEvents,v=e.priceType,m=e.getProductQuantity,g=c.E4[v],y=(0,i.useRouter)(),b=(0,u.DX)().logEvent,C=(0,l.Z2)(),h=C.user,k=C.geo,O=C.trackingId,P=(0,o.useState)(),E=P[0],N=P[1],S=(0,o.useRef)(!1),I=(0,o.useState)(!1),_=I[0],R=I[1],w=(0,o.useRef)();w.current=b;var T=(0,o.useRef)(r);T.current=r;var A=(0,o.useRef)(m);A.current=m;var x=null===(t=y.query)||void 0===t?void 0:t.d_id,j=v===p.sE.Organization,D=v===p.sE.Plus||j;(0,o.useEffect)((function(){(0,d.oX)()||(S.current=!1,(0,a.initializePaddle)({environment:"MISSING_ENV_VAR".NEXT_PUBLIC_PADDLE_ENVIRONMENT||"production",token:"test_4194076987e44d19d7e0c3388d6",eventCallback:function(e){var t,r,o,i,l,u,d,v;if(null!=n&&n.includes(null==e?void 0:e.name))(null==e?void 0:e.name)===a.CheckoutEventNames.CHECKOUT_LOADED&&(S.current=!0);else{var m=(null==e||null===(t=e.data)||void 0===t?void 0:t.custom_data)||{},b=D?{plan_type:j?p.KJ.Organization:p.KJ.Personal,team_size:null==e||null===(r=e.data)||void 0===r||null===(r=r.items)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.quantity}:void 0;switch(null==e?void 0:e.name){case a.CheckoutEventNames.CHECKOUT_PAYMENT_INITIATED:w.current({target_type:g,event_name:c.VB.InitiatePayment,target_id:null==e||null===(o=e.data)||void 0===o?void 0:o.payment.method_details.type,extra:JSON.stringify(f({},b))});break;case a.CheckoutEventNames.CHECKOUT_LOADED:S.current=!0,w.current({target_type:g,event_name:c.VB.InitiateCheckout,target_id:null==e||null===(i=e.data)||void 0===i?void 0:i.payment.method_details.type,extra:JSON.stringify(f({},b))});break;case a.CheckoutEventNames.CHECKOUT_PAYMENT_SELECTED:w.current({target_type:g,event_name:c.VB.SelectCheckoutPayment,target_id:null==e||null===(l=e.data)||void 0===l?void 0:l.payment.method_details.type,extra:JSON.stringify(f({},b))});break;case a.CheckoutEventNames.CHECKOUT_COMPLETED:S.current=!1,w.current({target_type:g,event_name:c.VB.CompleteCheckout,extra:JSON.stringify(f({user_id:"gifter_id"in m&&"user_id"in m?m.user_id:void 0,quantity:null===(u=A.current)||void 0===u?void 0:u.call(A,e),localCost:null==e?void 0:e.data.totals.total,localCurrency:null==e?void 0:e.data.currency_code,payment:null==e?void 0:e.data.payment.method_details.type,cycle:null!==(d=null==e||null===(v=e.data.items)||void 0===v||null===(v=v[0])||void 0===v||null===(v=v.billing_cycle)||void 0===v?void 0:v.interval)&&void 0!==d?d:"one-off"},b))}),T.current?T.current(e):y.push(s.j$);break;case"checkout.warning":w.current({target_type:g,event_name:c.VB.WarningCheckout,extra:JSON.stringify({transaction_id:null==e?void 0:e.data.transaction_id})});break;case a.CheckoutEventNames.CHECKOUT_ERROR:w.current({target_type:g,event_name:c.VB.ErrorCheckout,extra:JSON.stringify({transaction_id:null==e?void 0:e.data.transaction_id})});break;case a.CheckoutEventNames.CHECKOUT_PAYMENT_FAILED:w.current({target_type:g,event_name:c.VB.ErrorPayment,extra:JSON.stringify({transaction_id:null==e?void 0:e.data.transaction_id})});break;case a.CheckoutEventNames.CHECKOUT_CLOSED:S.current=!1;break;case a.CheckoutEventNames.CHECKOUT_ITEMS_UPDATED:R(!1)}}},checkout:{settings:{displayMode:"inline",frameTarget:"checkout-container",frameInitialHeight:500,frameStyle:"width: 100%; background-color: transparent; border: none;",theme:"dark",variant:"one-page"}}}).then((function(e){e&&N(e)})))}),[y,n,g,j,D]);var F=(0,o.useCallback)((function(e){var t=e.priceId,r=e.giftToUserId,n=e.discountId,o=e.quantity,a=[{priceId:t,quantity:void 0===o?1:o}],i=f(f({},null!=h&&h.email?{email:null==h?void 0:h.email}:{id:"anonymous"}),(null==k?void 0:k.region)&&{address:{countryCode:null==k?void 0:k.region}}),l=f({user_id:null!=r?r:null==h?void 0:h.id,tracking_id:O},!!r&&{gifter_id:null==h?void 0:h.id});if(S.current)return R(!0),void(null==E||E.Checkout.updateItems(a));null==E||E.Checkout.open({items:a,customer:i,customData:l,discountId:x||n})}),[null==E?void 0:E.Checkout,null==h?void 0:h.email,null==h?void 0:h.id,null==k?void 0:k.region,O,x]);return{paddle:E,openCheckout:F,isPaddleReady:!!E,checkoutItemsLoading:_}}},53304:(e,t,r)=>{"use strict";r.d(t,{K:()=>g});var n=r(21441),o=r(35001),a=r(13318),i=r.n(a),l={id:"u1",username:"ido",bio:"Software Engineer in the most amazing company in the globe",name:"Ido Shamun",providers:["github"],email:"ido@acme.com",image:"https://daily.dev/ido.png",infoConfirmed:!0,premium:!1,createdAt:(new Date).toISOString(),permalink:"https://app.daily.dev/Ido",balance:{amount:0}};const u=l;var c=r(80244),s=r(36899),d=r(37567),p=r(4315),v=r(68392);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(){var e=(0,v.mu)().displayToast,t=(0,c.Z2)().updateUser;return function(){var r=(0,o.A)(i().mark((function r(n){var o,a,l;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((null===(o=n.response.errors)||void 0===o||null===(o=o[0])||void 0===o||null===(o=o.extensions)||void 0===o?void 0:o.code)!==s.hD.BalanceTransactionError){r.next=5;break}if((l=n.response.errors[0]).extensions.status!==d.kr.InsufficientFunds||!l.extensions.balance){r.next=5;break}return r.next=5,t(m(m({},u),{},{balance:l.extensions.balance}));case 5:e((null==n||null===(a=n.response)||void 0===a||null===(a=a.errors)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.message)||p.W.error.generic);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},73855:(e,t,r)=>{"use strict";r.d(t,{NF:()=>c,PK:()=>i,rZ:()=>u,vv:()=>l});var n=r(21441),o=r(81602);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var i=function(e){return"string"==typeof e&&"true"===e.toLowerCase()},l=function(e,t){return"number"!=typeof e?"":e.toLocaleString(["en-US"],function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({minimumFractionDigits:2,maximumFractionDigits:2},t))},u=function(e){return e>1e5?(0,o.Kt)(e):l(e,{minimumFractionDigits:0})},c=function(e){var t=e.currency,r=e.amount;return new Intl.NumberFormat(navigator.language,{minimumFractionDigits:2,maximumFractionDigits:2,style:"currency",currency:t}).format(r)}},15132:()=>{}}]);