"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[6743],{77501:(e,t,n)=>{n.d(t,{Ay:()=>f,Q0:()=>s,mi:()=>i,pJ:()=>u});var r=n(30395),a=n.n(r),l=n(22155),o=n(86548),c=l.createElement,i=function(e){var t=e.readOnly,n=e.isLocked,r=e.hasInput,a=e.disabled,l=e.focused,o=e.isPrimaryField;return t||n||r&&!l||o&&r?"text-text-tertiary":a?"text-text-disabled":"text-text-primary"},u=function(e){var t=e.readOnly,n=e.isLocked,r=e.disabled,a=e.focused,l=e.hasInput,o=e.hasActionIcon;return t&&o||l?"text-text-primary":t||n?"text-text-quaternary":r?"text-text-disabled":a?"text-text-quaternary":"text-text-tertiary hover:text-text-primary"},s=function(e){var t=e.isSecondaryField,n=e.isTertiaryField,r=e.placeholder,a=e.focused,l=e.label;return n?a?r:l:a||t?null!=r?r:"":l};function d(e,t){var n=e.className,r=void 0===n?{}:n,l=e.fieldType,u=void 0===l?"primary":l,s=e.readOnly,d=e.isLocked,f=e.hasInput,p=e.disabled,v=e.focused,m=e.inputId,h=e.label,y=e.children,b=e.invalid,g=e.hint,w=e.hintIcon,x=e.saveHintSpace,O=e.focusInput,A="secondary"===u;return c("div",{ref:t,className:a()("flex flex-col",r.container)},A&&c("label",{className:a()("mb-1 px-2 font-bold typo-caption1",r.outerLabel,i({readOnly:s,isLocked:d,hasInput:f,disabled:p,focused:v})),htmlFor:m},h),c(o.s,{"data-testid":"field",onClick:O,className:a()("relative flex",A?"rounded-10":"rounded-14",r.baseField,{readOnly:s,focused:v,invalid:b})},y),((null==g?void 0:g.length)||x)&&c("div",{role:b?"alert":void 0,className:a()("mt-1 flex items-center gap-1 px-2 typo-caption1",x&&"h-4",b?"text-status-error":"text-text-quaternary",r.hint)},w||void 0,g))}const f=(0,l.forwardRef)(d)},43660:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(33998),a=n(21441),l=n(34900),o=n(22155),c=n(30395),i=n.n(c),u=n(86548),s=n(85436),d=n(77501),f=n(6721),p=["className","inputId","name","label","maxLength","showMaxLength","value","saveHintSpace","progress","hint","hintIcon","valid","validityChanged","valueChanged","placeholder","style","fieldType","isLocked","readOnly","leftIcon","actionButton","disabled","rightIcon","required","pressed","onBlur","focused","inputRef"],v=o.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){var n,a=e.className,c=void 0===a?{}:a,m=e.inputId,y=e.name,b=e.label,g=e.maxLength,w=e.showMaxLength,x=void 0===w||w,O=e.value,A=e.saveHintSpace,S=void 0!==A&&A,k=e.progress,I=e.hint,j=e.hintIcon,P=e.valid,N=e.validityChanged,E=e.valueChanged,F=e.placeholder,L=(e.style,e.fieldType),R=void 0===L?"primary":L,q=e.isLocked,C=e.readOnly,z=void 0===C?q:C,D=e.leftIcon,T=e.actionButton,B=e.disabled,M=e.rightIcon,H=e.required,_=e.pressed,V=e.onBlur,$=e.focused,Y=e.inputRef,Q=(0,l.A)(e,p),G=(0,f.A)({value:O,valueChanged:E,valid:P,validityChanged:N}),X=G.validInput,J=G.focused,K=G.hasInput,U=G.focusInput,Z=G.inputRef,W=G.onFocus,ee=G.onBlur,te=G.onInput,ne=G.inputLength,re=$||J,ae="primary"===R,le="secondary"===R,oe="tertiary"===R,ce=!1===X||H&&0===ne,ie=K||!(null==Z||null===(n=Z.current)||void 0===n||null===(n=n.value)||void 0===n||!n.length),ue=(0,o.useId)();return v(d.Ay,{ref:t,inputId:m,invalid:ce,focusInput:U,saveHintSpace:S,hint:I,hintIcon:j,fieldType:R,readOnly:z,isLocked:q,hasInput:K,disabled:B,focused:re,label:b,className:h(h({},c),{},{container:i()("items-stretch",c.container),baseField:i()("flex-row items-center",s.A.field,c.baseField,D&&"pl-3",T&&"pr-3",le?"h-9":"h-12")})},D&&v("span",{className:i()("mr-2",(0,d.pJ)({readOnly:z,disabled:B,hasInput:K,focused:re,isLocked:q,hasActionIcon:!!M}))},D),v("div",{className:i()("flex max-w-full flex-1 flex-col items-start",T&&"mr-2")},ae&&(J||ie)&&v("label",{className:i()("typo-caption1",(0,d.mi)({readOnly:z,isLocked:q,hasInput:ie,focused:re,disabled:B,isPrimaryField:!0})),htmlFor:m.concat(ue)},b),v(u.T,(0,r.A)({placeholder:(0,d.Q0)({label:b,focused:J,placeholder:F,isTertiaryField:oe,isSecondaryField:le}),name:y,id:m.concat(ue),ref:function(e){Z.current=e,null==Y||Y(e)},onFocus:W,onBlur:function(e){V&&V(e),ee()},maxLength:g,readOnly:z,size:1,className:i()(s.A.input,"self-stretch text-ellipsis",null==c?void 0:c.input,(0,d.pJ)({readOnly:z,disabled:B,hasInput:ie,focused:re,hasActionIcon:!!M}),{pressed:_}),disabled:B,required:H},Q,{onInput:function(e){te(e),Q.onInput&&Q.onInput(e)}})),k&&v("div",{className:i()("absolute bottom-0 h-[3px] rounded-10 transition-all",k)})),g&&x&&v("div",{className:"ml-2 font-bold typo-callout",style:{color:"var(--field-placeholder-color)"}},g-(ne||0)),M,T)}var b=(0,o.forwardRef)(y)},86548:(e,t,n)=>{n.d(t,{T:()=>l,s:()=>o});var r=n(63423),a=n(94992),l=(0,r.A)("input","min-w-0 bg-transparent typo-body caret-text-link focus:outline-none"),o=(0,r.A)("div","flex px-4 overflow-hidden bg-surface-float border border-transparent cursor-text",a.A.field)},49940:(e,t,n)=>{n.d(t,{_:()=>d});var r,a,l=n(33998),o=n(22155),c=n(97838);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const u=function(e){return o.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=o.createElement("defs",null,o.createElement("clipPath",{id:"outlined_svg__a"},o.createElement("path",{fill:"currentcolor",d:"M11.541.514a4 4 0 011.4 1.317l.126.209 5.58 9.92a4 4 0 01-3.23 5.953l-.256.008H4a4 4 0 01-3.605-5.733l.119-.228 5.58-9.92A4 4 0 0111.541.514zM7.92 2.887l-.082.133-5.58 9.92a2 2 0 001.594 2.976L4 15.92h11.16a2 2 0 001.815-2.841l-.071-.14-5.58-9.92a2 2 0 00-3.405-.133zM9.58 11.92a1 1 0 110 2 1 1 0 010-2zm0-7a1 1 0 011 1v4a1 1 0 11-2 0v-4a1 1 0 011-1z"})))),a||(a=o.createElement("g",{clipPath:"url(#outlined_svg__a)",fill:"currentcolor",transform:"translate(2.42 3.079)"},o.createElement("path",{d:"M0 0h19.161v17.921H0V0z"}))))};var s=o.createElement,d=function(e){return s(c.Ay,(0,l.A)({},e,{IconPrimary:u,IconSecondary:u}))}},72255:(e,t,n)=>{n.d(t,{h:()=>p});var r,a=n(33998),l=n(22155),o=n(97838);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}const i=function(e){return l.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=l.createElement("path",{d:"M12.964 3.106l.702.07.223.024c.914.102 1.594.316 2.213.708.468.296.859.676 1.162 1.127l1.309.588c.184.083.359.177.529.285a3.913 3.913 0 011.44 1.609c.25.515.39 1.056.438 1.723l.016.294.004.26v4.85a4.27 4.27 0 01-.466 1.955 4.121 4.121 0 01-2.616 2.108l-.257.064-.282.05-.688.098-.003.115a1.937 1.937 0 01-.3.905l-.1.148-.117.147a2.154 2.154 0 01-2.54.571l-.152-.078-.104-.064-.051-.035-2.304-1.464-.603-.381a2.15 2.15 0 01-2.345-.305l-.127-.118-.116-.126c-.291-.342-.447-.692-.499-1.05l-.016-.154-.003-.111-.69-.098c-.513-.073-1-.234-1.442-.473l-.217-.126-.21-.139A4.121 4.121 0 013.466 14.6a4.248 4.248 0 01-.459-1.696L3 12.645v-4.85c0-.92.138-1.62.458-2.278a3.913 3.913 0 011.44-1.61c.492-.31 1.023-.51 1.704-.633l.262-.042.47-.057a28.656 28.656 0 015.63-.069zm4.995 3.886l.02.22.01.14.006.144.005.298v5.18l-.005.196c-.03.6-.196 1.169-.471 1.671l-.14.237a3.89 3.89 0 01-2.22 1.644l-.217.055-.2.039-1.647.272-1.275.81 2.303 1.464.086.058c.09.05.187.076.285.08l.097-.004a.672.672 0 00.433-.234c.21-.247.159-.54.067-.785l-.036-.09-.131-.288-.012-.034a.164.164 0 01-.01-.053c.005-.16.12-.247.215-.31.081-.053.162-.09.354-.123l.106-.016 1.585-.227.224-.04a2.74 2.74 0 00.99-.437c.345-.245.625-.567.819-.944.16-.315.262-.666.291-1.042l.009-.228v-4.85l-.004-.237c-.02-.604-.123-1.015-.303-1.384a2.413 2.413 0 00-.893-.999l-.166-.097-.175-.086zm-7.125-2.49h-.668c-.667.008-1.335.041-2 .099l-.666.065-.457.055c-.599.087-.996.235-1.343.454-.39.247-.69.583-.893.999-.18.37-.283.78-.303 1.384l-.004.236v4.85c0 .462.107.894.3 1.27.194.378.474.7.82.945.287.204.621.354.989.436l.224.041 1.585.227c.27.038.365.077.46.14.094.062.21.15.215.309l-.002.024-.02.063-.131.288c-.111.26-.205.598.031.875a.667.667 0 00.53.238l.098-.011a.622.622 0 00.187-.07l.086-.057 2.502-1.59.074-.05.061-.032.078-.028.084-.02 1.886-.316.144-.032.117-.033.075-.025.073-.027c.106-.04.204-.087.299-.139l.135-.08.126-.087.114-.09c.485-.405.804-.998.853-1.657l.007-.182V7.681c-.011-.672-.115-1.113-.307-1.507a2.413 2.413 0 00-.893-.999c-.347-.22-.744-.367-1.343-.454l-.457-.055a27.156 27.156 0 00-2.666-.164zM10.5 8.75c.38 0 .693.301.743.691l.007.109v3.4l-.005.093c-.043.398-.36.707-.745.707-.38 0-.693-.301-.743-.691l-.007-.109v-3.4l.005-.093c.043-.398.36-.707.745-.707zm0-2.75a.75.75 0 110 1.5.75.75 0 010-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var u;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(null,arguments)}const d=function(e){return l.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),u||(u=l.createElement("path",{d:"M19.15 5.99c.146.066.28.139.41.22.469.297.829.7 1.072 1.198.215.444.339.937.363 1.662l.005.283v5.82c0 .555-.128 1.072-.36 1.524-.232.453-.568.84-.983 1.134a3.287 3.287 0 01-1.188.523l-.269.05-1.901.271c-.325.046-.439.093-.552.168-.114.075-.252.18-.26.371l.004.029.024.076.157.346c.134.312.245.716-.037 1.049a.782.782 0 01-.978.19l-.103-.07-2.765-1.757 1.531-.971 1.977-.327.24-.047a4.673 4.673 0 003.657-4.328l.006-.235V6.953l-.006-.358a8.404 8.404 0 00-.02-.34l-.024-.265zM13.8 3.2l.268.03c.879.097 1.423.284 1.892.58.469.297.829.7 1.072 1.198.242.5.368 1.06.368 1.945v6.216a2.873 2.873 0 01-2.4 2.834l-2.195.368-.1.023-.016.005a.678.678 0 00-.151.068l-.089.06-3.003 1.907a.777.777 0 01-1.08-.12c-.283-.333-.172-.737-.038-1.05l.157-.345.024-.076a.13.13 0 00.003-.029c-.007-.191-.145-.296-.259-.371-.113-.075-.227-.122-.552-.168L5.8 16.003a3.321 3.321 0 01-1.457-.572 3.145 3.145 0 01-.983-1.134A3.324 3.324 0 013 12.774v-5.82c0-.885.126-1.447.368-1.946A2.896 2.896 0 014.44 3.81c.417-.263.893-.44 1.611-.545L6.6 3.2a32.587 32.587 0 017.2 0zm-3.6 4.9c-.462 0-.842.37-.894.848L9.3 9.06v4.08c0 .53.403.96.9.96.462 0 .842-.37.894-.848l.006-.112V9.06c0-.53-.403-.96-.9-.96zm0-3.3a.9.9 0 100 1.8.9.9 0 000-1.8z",fill:"currentcolor",fillRule:"evenodd"})))};var f=l.createElement,p=function(e){return f(o.Ay,(0,a.A)({},e,{IconPrimary:i,IconSecondary:d}))}},14431:(e,t,n)=>{n.d(t,{X:()=>p});var r,a=n(33998),l=n(22155),o=n(97838);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}const i=function(e){return l.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=l.createElement("path",{d:"M12.037 3l.301.013.242.023c2.157.27 3.813 2.077 3.914 4.252l.005.211.001 2.256.313.109c.483.179.835.372 1.186.643.448.346.802.77 1.064 1.289l.106.228.078.197.06.185.062.223c.044.188.075.385.097.62l.015.183.016.34.004.366v1.725l-.006.395-.016.322a5.04 5.04 0 01-.066.548l-.058.278-.075.258-.127.332a3.7 3.7 0 01-.99 1.342l-.198.162-.175.126c-.224.153-.46.28-.755.403l-.233.092-.342.117-.509.15-.546.151c-2.086.576-4.29.612-6.39.108l-.419-.108-.748-.207-.195-.059-.194-.061-.295-.104a4.481 4.481 0 01-.802-.386l-.19-.124-.17-.124a3.72 3.72 0 01-1.063-1.289l-.107-.227-.078-.198-.06-.185-.061-.223a4.492 4.492 0 01-.098-.62l-.015-.183-.016-.373-.003-2.243.005-.21.016-.322a5.04 5.04 0 01.066-.547l.059-.279.074-.257.127-.333a3.715 3.715 0 011.154-1.478 4.276 4.276 0 011.202-.65l.295-.1.002-2.295.01-.284.017-.215c.213-2.057 1.892-3.697 3.995-3.935l.219-.02.187-.007h.108zm-.036 7.482c-1.42 0-2.841.255-4.262.765a2.7 2.7 0 00-.779.418c-.259.2-.463.44-.613.719l-.083.172-.061.154-.027.079-.047.169a3.024 3.024 0 00-.062.386l-.014.157-.014.29-.003.166v2.067l.003.166.014.29c.012.166.029.305.051.426l.025.117.047.17.027.079.061.153c.128.296.31.55.547.767l.15.124.135.1c.13.088.275.168.468.25l.155.061.26.09.15.048.343.099.546.15a11.23 11.23 0 005.574.101l.392-.1.546-.151.42-.123.332-.114c.22-.082.383-.162.522-.247l.101-.065.136-.099c.26-.2.463-.439.613-.719l.083-.172.062-.153.027-.08.046-.169c.027-.112.048-.237.063-.386l.013-.157.014-.29.005-.347v-1.705l-.005-.346-.014-.29a3.782 3.782 0 00-.051-.427l-.025-.117-.046-.17-.027-.078-.062-.154a2.227 2.227 0 00-.696-.891 2.7 2.7 0 00-.778-.418 12.54 12.54 0 00-4.262-.765zm0 2.018a1.5 1.5 0 01.87 2.723l-.119.076v1.451l-.006.087a.75.75 0 01-1.488.015l-.007-.102V15.3a1.5 1.5 0 01.75-2.8zm-.013-8l-.187.007c-1.386.092-2.537 1.128-2.758 2.438l-.023.172-.014.18L9 7.5 9 9.194l.448-.073a17.263 17.263 0 014.596-.068l.509.068.447.074-.001-1.695a3 3 0 00-2.43-2.948l-.175-.027-.192-.018-.214-.007z",fill:"currentcolor",fillRule:"evenodd"})))};var u;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(null,arguments)}const d=function(e){return l.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),u||(u=l.createElement("path",{d:"M12.047 3l.362.015.29.027c2.59.324 4.576 2.493 4.698 5.103l.006.254.004 2.825c.29.125.486.25.679.398.376.288.655.644.84 1.07l.074.184.033.095.056.203c.043.179.073.386.092.652l.017.349.006.415v2l-.006.415-.017.348a4.05 4.05 0 01-.092.652l-.056.204-.033.095-.073.183a2.675 2.675 0 01-.841 1.07l-.164.12c-.196.132-.42.25-.752.374l-.402.136-.507.148-.658.18a13.628 13.628 0 01-7.202 0l-.659-.18-.595-.176-.313-.108a3.403 3.403 0 01-.753-.375l-.163-.118a2.675 2.675 0 01-.84-1.07l-.075-.184-.032-.095-.057-.204a4.049 4.049 0 01-.092-.652l-.016-.348-.005-.199L4.8 14.59c0-.15.002-.289.006-.415l.016-.349c.02-.266.05-.473.092-.652l.057-.203.032-.095.074-.184c.186-.426.465-.782.84-1.07.194-.149.391-.273.682-.399l.004-2.868.01-.34.022-.26c.255-2.468 2.27-4.437 4.795-4.722l.263-.024.224-.009h.13zm-.085 9.602a1.8 1.8 0 00-.9 3.36v1.742a.9.9 0 001.794.105l.006-.105.001-1.742a1.8 1.8 0 00-.9-3.36zm.026-7.803l-.224.01c-1.663.109-3.046 1.353-3.31 2.925l-.028.207-.017.215-.007.244-.001 2.252c1.2-.3 2.4-.45 3.601-.45 1.2 0 2.401.15 3.602.45L15.602 8.4a3.602 3.602 0 00-2.917-3.538l-.209-.033-.231-.021-.257-.009z",fill:"currentcolor",fillRule:"evenodd"})))};var f=l.createElement,p=function(e){return f(o.Ay,(0,a.A)({},e,{IconPrimary:i,IconSecondary:d}))}},38082:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ie});var r=n(33998),a=n(21441),l=n(35001),o=n(56594),c=n(13318),i=n.n(c),u=n(22155),s=n(77535),d=n(80009),f=n(30395),p=n.n(f),v=n(53823),m=n(83448),h=n(35234),y=n(17398),b=n(74502),g=n(34900),w=["signal"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.signal,l=(0,g.A)(n,w),o=new AbortController,c=fetch(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({signal:o.signal},l));r&&r.addEventListener("abort",(function(){return o.abort()}));var i=setTimeout((function(){return o.abort()}),t);return c.finally((function(){return clearTimeout(i)}))}var A,S,k,I=n(54883),j=n(45322),P=n(2972),N=(0,P.gql)(A||(A=(0,j.A)(["\n  query SourceByFeed($feed: String!) {\n    source: sourceByFeed(feed: $feed) {\n      id\n      name\n      image\n    }\n  }\n"]))),E=(0,P.gql)(S||(S=(0,j.A)(["\n  mutation RequestSource($data: RequestSourceInput!) {\n    requestSource(data: $data) {\n      id\n    }\n  }\n"]))),F=(0,P.gql)(k||(k=(0,j.A)(["\n  query SourceRequestAvailability {\n    sourceRequestAvailability {\n      hasAccess\n    }\n  }\n"]))),L=n(80244),R=n(28926),q=n(94198),C=n(16763),z=n(16714),D=n(57952),T=n(10665),B=n(77955),M=u.createElement,H=function(){return(0,B.k3)().isDrawer?M("img",{src:C.fu,alt:"A sample browser notification"}):null},_=function(){return(0,B.k3)().isDrawer?null:M("img",{className:"mx-auto my-14",src:C.fu,alt:"A sample browser notification"})};const V=function(e){var t=e.onRequestClose,n=(0,T.IR)({onPopupGranted:function(){return t(null)}}).onEnablePush,a=function(){var e=(0,l.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(D.vH.NewSourceModal);case 2:e.sent&&(null==t||t(null));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return M(q.aF,(0,r.A)({},e,{kind:q.aF.Kind.FlexibleTop,size:q.aF.Size.Medium,isDrawerOnMobile:!0,drawerProps:{className:{drawer:"pb-4",close:"mx-4"}}}),M(q.aF.Header,null),M(H,null),M(q.aF.Body,{className:"gap-2 px-4 pb-0 pt-3"},M(q.aF.Title,{className:"!typo-large-title tablet:typo-title1"},"Enable Push Notifications"),M(q.aF.Text,{className:p()("text-center typo-body tablet:typo-callout")},"Get notified of the status of your source submissions"),M(_,null)),M(v.$n,{variant:m.Ak.Primary,onClick:a,className:"m-4 mb-0 mt-5 flex tablet:hidden"},"Enable notifications"),M(q.aF.Footer,{justify:z.F1.Center},M(v.$n,{variant:m.Ak.Primary,onClick:a},"Enable notifications")))};var $=n(7848),Y=n(75289),Q=n(8483),G=n(35953),X=n(26540),J=n(14431),K=n(35393),U=n(58499),Z=n(43660),W=n(95974),ee=u.createElement,te=function(e){return ee(Y.Ay,(0,r.A)({},e,{type:Y.vT.Error,title:ee("div",{className:"block flex-1","data-testid":"reputationAlert"},"You do not have enough reputation to use this feature yet. However, you can"," ",ee(W.A,{href:"".concat(I.ZO,"squads/new")},ee("a",{className:"font-bold underline"},"create a Squad"))," ","instead where you can share your favorite content , invite your friends and colleagues and a lot more!")}))},ne=n(30530),re=n(38638),ae=n(36899),le=u.createElement;function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ce=function(e,t){return le("span",{className:"flex w-full flex-1 items-center justify-between"},e,le(v.$n,{variant:m.Ak.Tertiary,tag:"a",target:"_blank",href:t,icon:le(G.S,null)}))};function ie(e){var t,n,c=(0,u.useRef)(),f=(0,u.useState)(!1),g=f[0],w=f[1],x=(0,u.useState)(),A=x[0],S=x[1],k=(0,u.useState)(!1),j=k[0],P=k[1],C=(0,u.useState)(!1),z=C[0],D=C[1],B=(0,U.Gl)().isPushSupported,M=(0,T.IR)().hasPermissionCache,H=(0,u.useState)(),_=H[0],G=H[1],W=(0,u.useState)(),ee=W[0],ie=W[1],ue=(0,u.useState)(),se=ue[0],de=ue[1],fe=(0,u.useContext)(L.Ay),pe=fe.user,ve=fe.isLoggedIn,me=fe.loginState,he=fe.showLogin,ye=R._f.SubmitNewSource,be=e.onRequestClose,ge=(0,$.A)(K.A,!1),we=(0,o.A)(ge,2),xe=we[0],Oe=we[1],Ae=(0,s.I)({queryKey:[ne.jZ.SourceRequestAvailability,null==pe?void 0:pe.id],queryFn:(t=(0,l.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.e.request(F);case 2:return t=e.sent,e.abrupt("return",t.sourceRequestAvailability);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}),Se=Ae.data,ke=Ae.isPending,Ie=function(){P(!0),S("Failed to fetch information, try to find the link to the RSS itself and try again.")},je=(0,d.n)({mutationFn:function(e){return ae.e.request(N,{feed:e})}}),Pe=je.mutateAsync,Ne=je.isPending,Ee=(0,d.n)({mutationFn:(n=(0,l.A)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("".concat(b.y0,"/scrape/source?url=").concat(t),2e4,{credentials:"same-origin"});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onMutate:function(){S(null),P(!1),G(null),ie(null),de(null)},onSuccess:function(e){return"website"!==e.type?Ie():e.rss.length?G(e.rss.map((function(e){return{label:ce(e.title,e.url),value:e.url}}))):S("Could not find RSS feed")},onError:Ie}),Fe=Ee.mutateAsync,Le=Ee.isPending,Re=(0,d.n)({mutationFn:function(e){return ae.e.request(E,{data:{sourceUrl:e}})},onSuccess:function(){M||!B||xe?null==be||be(null):D(!0)}}),qe=Re.mutateAsync,Ce=Re.isPending,ze=function(){var e=(0,l.A)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),pe){e.next=4;break}return he({trigger:ye}),e.abrupt("return");case 4:return n=(0,y.Y)(t.currentTarget),e.next=7,Fe(n.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=(0,l.A)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!se){e.next=3;break}return e.abrupt("return");case 3:return n=(0,y.Y)(t.currentTarget),e.next=6,Pe(n.rss);case 6:if(!(r=e.sent).source){e.next=11;break}de(r.source),e.next=13;break;case 11:return e.next=13,qe(n.rss);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=(0,l.A)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(!0);case 2:be(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onRequestClose:Te},e);if(ke)return null;var Me=ve&&Se.hasAccess;if(z)return le(V,Be);var He=!(null==_||!_.length);return le(q.aF,(0,r.A)({},Be,{formProps:{title:"Suggest new source",form:He?"select-feed":"submit-source",copy:{right:He?"Submit for review":"Check link"},rightButtonProps:{disabled:He?!ee||!!se:!g||!Me,loading:He?Ne||Ce:Le}}}),le(q.aF.Header,{title:"Suggest new source"}),le(q.aF.Body,null,le(q.aF.Text,null,"Have an idea for a new source? Insert its link below to add it to the feed."),le("a",{className:"mb-2 font-bold text-text-link underline typo-callout",target:"_blank",rel:"noopener",href:I.fX},"Content guidelines"),le("form",{className:"flex w-full flex-col",ref:c,onSubmit:ze,"aria-busy":Le,"data-testid":"login state: ".concat(null==me?void 0:me.trigger),id:"submit-source"},le(Z.A,{disabled:!Me||!(null==_||!_.length),className:{container:"mt-4"},inputId:"new-source-field",name:"url",label:"Paste blog / RSS URL",placeholder:"Paste blog / RSS URL",autoComplete:"off",type:"url",autoFocus:!0,"aria-describedby":A&&"new-source-field-desc",valueChanged:function(){c.current&&w(c.current.checkValidity())},fieldType:"primary",leftIcon:le(X.q,null),rightIcon:Me?void 0:le(J.X,{className:"text-text-disabled"})})),Me&&se&&le(Y.Ay,{className:"mt-4",type:Y.vT.Error,title:le(u.Fragment,null,se.name," already exist"," ",le(Q.A,{className:"ml-auto",source:se,size:re.Ov.Small}))}),!Me&&le(te,{className:"mt-4"}),Me&&le(u.Fragment,null,!(null==_||!_.length)&&!se&&le(u.Fragment,null,le("div",{className:"mb-6 self-start text-text-tertiary typo-callout"},_.length," RSS feed",_.length>1?"s":""," found"),le("form",{className:"flex w-full flex-col items-center",id:"select-feed",onSubmit:De},le(h.s,{name:"rss",options:_,onChange:ie,value:ee,className:{container:"w-full self-start",content:"w-full pr-0"}}))),!se&&A&&!(null!=_&&_.length)&&le(u.Fragment,null,le("div",{id:"new-source-field-desc",className:p()("self-start text-status-error typo-callout",!j&&"mb-6")},A),j&&le(v.$n,{tag:"a",className:"mb-6 mt-3 self-start",variant:m.Ak.Secondary,size:m.Mp.Small,href:"mailto:hi@daily.dev?subject=Failed to add new source",target:"_blank",rel:"noopener noreferrer"},"Contact")))),Me&&le(q.aF.Footer,null,!(null!=_&&_.length)&&le(v.$n,{form:"submit-source",variant:m.Ak.Primary,type:"submit",disabled:Le||!g,loading:Le},"Check link"),!(null==_||!_.length)&&le(u.Fragment,null,le(v.$n,{className:"mr-auto",disabled:Ne||Ce,onClick:function(){G([])}},"Back"),le(v.$n,{form:"select-feed",variant:m.Ak.Primary,type:"submit",disabled:!ee||!!se,loading:Ne||Ce},"Submit for review"))))}},8483:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(33998),a=n(34900),l=n(22155),o=n(27504),c=n(38638),i=n(55052),u=n(16763),s=n(91201),d=["source","rounded","isLink"],f=l.createElement;const p=function(e){var t=e.source,n=e.rounded,l=void 0===n?"full":n,p=e.isLink,v=(0,a.A)(e,d),m=(0,s.D)().isCompanion;return f(o.A,{condition:!!p,wrapper:function(e){return f(i.y,{href:t.permalink},e)}},f(c.Y3,(0,r.A)({},v,{rounded:l,user:{id:t.id,image:t.image,username:t.handle},fallbackSrc:u.N_,nativeLazyLoading:m})))}},75289:(e,t,n)=>{n.d(t,{Ay:()=>y,Bs:()=>h,vT:()=>f});var r=n(22155),a=n(30395),l=n.n(a),o=n(72255),c=n(49940),i=n(36780),u=n(63423),s=n(97838),d=r.createElement,f=function(e){return e.Info="info",e.Error="error",e.Success="success",e}({}),p={info:"text-accent-bun-default",error:"text-status-error",success:"text-status-success"},v={info:"border-l-accent-bun-default",error:"border-l-status-error",success:"border-l-status-success"},m={info:o.h,error:c._,success:i.w},h=(0,u.A)("p","typo-callout mt-3");const y=function(e){var t=e.className,n=e.title,r=e.children,a=e.type,o=void 0===a?f.Info:a,c=e.flexDirection,i=void 0===c?"flex-col":c,u=m[o];return d("div",{className:l()("flex border border-l-4 border-theme-active p-3",i,v[o],r?"rounded-16":"rounded-12",t)},d("span",{className:"flex flex-row items-center"},d(u,{size:s.lK.Small,className:l()("mr-2",p[o])}),d("span",{className:l()("flex flex-1 typo-callout",r&&"font-bold",r&&p[o])},n)),r)}},95098:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(22155);function a(e,t){var n=(0,r.useRef)(null),a=(0,r.useState)(!1),l=a[0],o=a[1],c=(0,r.useState)(!1),i=c[0],u=c[1],s=function(e){n.current.value=e,n.current.dispatchEvent(new Event("input",{bubbles:!0}))};(0,r.useEffect)((function(){var t;void 0!==e&&(s((null==e?void 0:e.toString())||""),u(!(null==n||null===(t=n.current)||void 0===t||null===(t=t.value)||void 0===t||!t.length)))}),[e]);return{inputRef:n,focused:l,hasInput:i,onFocus:function(){return o(!0)},onBlur:function(){return o(!1)},onInput:function(e){t&&t(e.currentTarget.value);var n=e.currentTarget.value.length;!i&&n?u(!0):i&&!n&&u(!1)},focusInput:function(){n.current.focus()},setInput:s}}},6721:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(56594),a=n(22155),l=n(34229),o=n(95098);const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valid,c=e.valueChanged,i=e.validityChanged,u=(0,o.G)(t,c),s=u.inputRef,d=u.focused,f=u.hasInput,p=u.onFocus,v=u.onBlur,m=u.onInput,h=u.focusInput,y=u.setInput,b=(0,a.useState)(void 0),g=b[0],w=b[1],x=(0,a.useState)(void 0),O=x[0],A=x[1],S=(0,a.useRef)(void 0),k=(0,l.A)((function(){A(s.current.checkValidity())}),500),I=(0,r.A)(k,2),j=I[0],P=I[1];return(0,a.useEffect)((function(){var e;null!==(e=s.current)&&void 0!==e&&e.value&&(w(s.current.value.length),s.current.checkValidity()&&A(!0))}),[s]),(0,a.useEffect)((function(){void 0!==O&&(null==i||i(O),S.current=O)}),[O]),(0,a.useEffect)((function(){void 0!==S.current&&void 0!==n&&A(n)}),[n]),{inputLength:g,inputRef:s,focused:d,hasInput:f,validInput:O,onFocus:p,onBlur:function(){P(),v(),s.current&&A(s.current.checkValidity())},onInput:function(e){P(),m(e),c&&c(e.currentTarget.value);var t=e.currentTarget.value.length;w(t),s.current.checkValidity()?A(!0):j()},focusInput:h,setInput:y}}},17398:(e,t,n)=>{n.d(t,{Y:()=>o});var r=n(21441);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){return Array.from(e.elements).reduce((function(e,t){return""===t.name?e:"checkbox"===t.type?l(l({},e),{},(0,r.A)({},t.name,t.checked)):"radio"!==t.type||t.checked?"file"===t.type?l(l({},e),{},(0,r.A)({},t.name,0===t.files.length?null:t.files)):l(l({},e),{},(0,r.A)({},t.name,t.value.length?t.value:null)):e}),t)}},85436:(e,t,n)=>{n.d(t,{A:()=>r});const r={input:"XxfQr1w6K5DHV1cxQo5aYQ==",field:"DOQOigjBSuqHj7n2DJM7hw=="}},94992:(e,t,n)=>{n.d(t,{A:()=>r});const r={field:"OSaZMMeM+axN9uO6jYIrXA=="}}}]);