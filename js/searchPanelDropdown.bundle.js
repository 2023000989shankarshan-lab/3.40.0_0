"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[9748],{31452:(e,t,r)=>{r.r(t),r.d(t,{default:()=>se});var o=r(21441),n=r(64052),l=r(22155),i=r(4394),s=r(68390),a=r(57952),u=r(13707),c=r(33998),d=r(30395),f=r.n(d),v=r(27496),p=r(34900),m=["children"],y=l.createElement,g=function(e){var t=e.children,r=(0,p.A)(e,m);return y("button",(0,c.A)({type:"button","data-search-panel-item":"true"},r),t)},x=["icon","children"],h=l.createElement,b=function(e){var t=e.icon,r=e.children,o=(0,p.A)(e,x);return h(g,(0,c.A)({},o,{className:f()(o.className,"flex w-full items-center gap-2 overflow-hidden rounded-12 p-2 hover:bg-surface-float focus:bg-surface-float laptop:text-text-tertiary")}),!!t&&t,r)},w=r(87192),N=r(63204),C=r(60092),k=r(97838),_=r(61663),S=r(23781),q=l.createElement,A=function(e){var t=e.provider,r=(0,l.useContext)(v.I),o=C.Au[t],n=(0,w.Z)().search,i=(0,S.s)(),s=i.time,u=i.contentCurationFilter,d=(0,N.O)({provider:t}),p=t===C.B5,m=!r.provider&&p,y=(0,_.DX)().logEvent;return q(b,(0,c.A)({icon:q(o,{className:"rounded-6 p-0.5",size:k.lK.Small}),onClick:function(){y({event_name:a.VB.SubmitSearch,extra:JSON.stringify({query:r.query,provider:t,filters:{time:s,contentCuration:u}})}),n({provider:t,query:r.query})},className:f()(m&&"bg-surface-float"),"data-search-panel-item":!p,tabIndex:p?-1:void 0},d),q("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap typo-callout"},r.query," ",q("span",{className:"text-text-quaternary typo-footnote"},C.AP[t])))},P=["provider","children"],I=l.createElement,O=function(e){var t=e.provider,r=e.children,o=(0,p.A)(e,P),n=(0,N.O)({provider:t});return I(b,(0,c.A)({},o,n),r)},E=r(80446),D=r(181),F=r(6103),R=r(10867),Z=r(54883),V=["suggestion"],z=l.createElement,B=function(e){var t=e.suggestion,r=(0,p.A)(e,V),o=(0,N.O)({provider:i.dw.Posts,text:t.title}),n=(0,R.X)(),l=null==n?void 0:n.sanitize;return z(b,(0,c.A)({},r,{icon:z(D.W,null)},o),!!l&&z("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap typo-subhead [&>strong]:text-text-primary",dangerouslySetInnerHTML:{__html:l(t.title)}}))},T=function(e){var t,r,o=e.className,n=e.title,s=(0,E.useRouter)(),u=(0,_.DX)().logEvent,c=(0,l.useContext)(v.I),d=(0,w.Z)().search,p=(0,F.I)({provider:i.dw.Posts,query:c.query}).suggestions;return null!=p&&null!==(t=p.hits)&&void 0!==t&&t.length?z("div",{className:f()(o,"flex flex-col")},z("div",{className:"relative my-2 flex items-center justify-start gap-2"},z("hr",{className:"w-2 border-border-subtlest-tertiary"}),z("span",{className:"relative inline-flex font-bold typo-footnote"},n),z("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==p||null===(r=p.hits)||void 0===r?void 0:r.map((function(e){return z(B,{key:e.title,suggestion:e,onClick:function(){!function(e){var t=e.title.replace(i.F,"");if(e.id)return u({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:e.id,feed_item_title:t,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Posts})}),void s.push("".concat(Z.ZO,"posts/").concat(e.id));d({provider:i.dw.Posts,query:t})}(e)}})}))):null},X=r(41536),j=(0,l.createContext)(void 0),H=function(){return(0,l.useContext)(j)},J=r(81712),K=r(6652),U=r(69321),L=["suggestion","showFollow"],$=l.createElement,W=function(e){var t,r=e.suggestion,o=e.showFollow,n=(0,p.A)(e,L),l=H(),s=null==l?void 0:l.feed,a=function(){return $(X._V,{loading:"lazy",src:r.image,alt:"".concat(r.title," logo"),className:"size-7 rounded-full"})},u=(0,N.O)({provider:i.dw.Sources,text:r.title,icon:$(a,null)});return $(b,(0,c.A)({icon:$(a,null)},u,n,{className:"px-2 py-1"}),$("div",{className:"flex flex-1 flex-col items-start"},$("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap font-bold text-text-primary typo-subhead"},r.title),$("span",{className:"text-text-quarternary typo-footnote"},"@",r.subtitle)),!!o&&$(U.W,{feedId:null==s?void 0:s.id,entityId:r.id,type:J.ZD.Source,status:null===(t=r.contentPreference)||void 0===t?void 0:t.status,entityName:"@".concat(r.subtitle),showSubscribe:!1,copyType:K.e.Custom}))},M=function(e){var t,r,o=e.className,n=e.showFollow,s=e.title,u=(0,l.useContext)(j),c=null==u?void 0:u.feed,d=(0,E.useRouter)(),p=(0,_.DX)().logEvent,m=(0,l.useContext)(v.I),y=(0,F.I)({provider:i.dw.Sources,query:m.query,limit:3,includeContentPreference:!0,feedId:null==c?void 0:c.id}).suggestions;return null!=y&&null!==(t=y.hits)&&void 0!==t&&t.length?$("div",{className:f()(o,"flex flex-col")},$("div",{className:"relative my-2 flex items-center justify-start gap-2"},$("hr",{className:"w-2 border-border-subtlest-tertiary"}),$("span",{className:"relative inline-flex font-bold typo-footnote"},s),$("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==y||null===(r=y.hits)||void 0===r?void 0:r.map((function(e){return $(W,{key:e.title,showFollow:n,suggestion:e,onClick:function(){!function(e){var t,r=(null===(t=e.subtitle)||void 0===t?void 0:t.toLowerCase())||e.id;p({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:r,feed_item_title:r,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Sources})}),d.push("".concat(Z.ZO,"sources/").concat(r))}(e)}})}))):null},G=r(89481),Q=l.createElement,Y=function(e){var t=e.suggestion,r=e.onClick,o=(0,N.O)({provider:i.dw.Tags,text:t.title});return Q(g,(0,c.A)({},o,{onClick:r}),Q(G.F,{key:t.id,tag:t.id,buttonProps:{onClick:function(e){e.preventDefault()}}}))},ee=function(e){var t,r,o=e.className,n=e.title,s=(0,E.useRouter)(),u=(0,_.DX)().logEvent,c=(0,l.useContext)(v.I),d=(0,F.I)({provider:i.dw.Tags,query:c.query,limit:5}).suggestions;return null!=d&&null!==(t=d.hits)&&void 0!==t&&t.length?Q("div",{className:f()(o,"flex flex-col")},Q("div",{className:"relative my-2 flex items-center justify-start gap-2"},Q("hr",{className:"w-2 border-border-subtlest-tertiary"}),Q("span",{className:"relative inline-flex font-bold typo-footnote"},n),Q("hr",{className:"flex-1 border-border-subtlest-tertiary"})),Q("div",{className:"flex-start flex flex-wrap gap-2 p-2"},null==d||null===(r=d.hits)||void 0===r?void 0:r.map((function(e){return Q(Y,{key:e.title,suggestion:e,onClick:function(t){t.preventDefault(),function(e){var t=e.id||e.title.toLowerCase();u({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:t,feed_item_title:t,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Tags})}),s.push("".concat(Z.ZO,"tags/").concat(t))}(e)}})})))):null},te=["suggestion","showFollow"],re=l.createElement,oe=function(e){var t,r=e.suggestion,o=e.showFollow,n=(0,p.A)(e,te),l=H(),s=null==l?void 0:l.feed,a=function(){return re(X._V,{loading:"lazy",src:r.image,alt:"".concat(r.title," logo"),className:"size-7 rounded-8"})},u=(0,N.O)({provider:i.dw.Users,text:r.title,icon:re(a,null)});return re(b,(0,c.A)({icon:re(a,null)},u,n,{className:"px-2 py-1"}),re("div",{className:"flex flex-1 flex-col items-start"},re("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap font-bold text-text-primary typo-subhead"},r.title),re("span",{className:"text-text-quarternary typo-footnote"},"@",r.subtitle)),!!o&&re(U.W,{feedId:null==s?void 0:s.id,entityId:r.id,type:J.ZD.User,status:null===(t=r.contentPreference)||void 0===t?void 0:t.status,entityName:"@".concat(r.subtitle),showSubscribe:!1,copyType:K.e.Custom}))},ne=function(e){var t,r,o=e.className,n=e.title,s=e.showFollow,u=(0,l.useContext)(j),c=null==u?void 0:u.feed,d=(0,E.useRouter)(),p=(0,_.DX)().logEvent,m=(0,l.useContext)(v.I),y=(0,F.I)({provider:i.dw.Users,query:m.query,limit:3,includeContentPreference:!0,feedId:null==c?void 0:c.id}).suggestions;return null!=y&&null!==(t=y.hits)&&void 0!==t&&t.length?re("div",{className:f()(o,"flex flex-col")},re("div",{className:"relative my-2 flex items-center justify-start gap-2"},re("hr",{className:"w-2 border-border-subtlest-tertiary"}),re("span",{className:"relative inline-flex font-bold typo-footnote"},n),re("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==y||null===(r=y.hits)||void 0===r?void 0:r.map((function(e){return re(oe,{key:e.title,showFollow:s,suggestion:e,onClick:function(){!function(e){var t=e.id||e.subtitle.toLowerCase();p({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:t,feed_item_title:t,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Users})}),d.push("".concat(Z.ZO,"/").concat(t))}(e)}})}))):null},le=r(4004),ie=l.createElement;const se=function(e){var t=e.query,r=void 0===t?"":t,l=e.anchor,c=(0,w.Z)().search,d=(0,S.s)(),f=d.time,v=d.contentCurationFilter,p=(0,_.DX)().logEvent;return(0,le.M)(l,"keydown",(function(e){var t=(0,n.A)(l.current.querySelectorAll('[data-search-panel-item="true"]')),r=t.findIndex((function(e){return"true"===e.getAttribute("data-search-panel-active")}));-1===r&&(r=0);var i=(0,o.A)((0,o.A)({},s.cb.Up,-1),s.cb.Down,1);0!==r&&(i[s.cb.Left]=-1,i[s.cb.Right]=1);var a=Object.keys(i).find((function(t){return t===e.key}));if(a){e.preventDefault();var u=t[r+i[a]];u&&u.focus()}})),ie("div",{className:"absolute w-full items-center overflow-y-auto rounded-b-16 border-0 border-border-subtlest-tertiary bg-background-default px-3 py-2 laptop:h-auto laptop:max-h-[30rem] laptop:border-x laptop:border-b laptop:bg-background-subtle laptop:shadow-2"},ie("div",{className:"flex flex-1 flex-col"},ie(A,{provider:i.dw.Posts}),s.o&&ie(A,{provider:i.dw.Google}),ie(ee,{title:"Tags"}),ie(T,{title:"Posts on daily.dev"}),ie(M,{title:"Sources"}),ie(ne,{title:"Users"}),ie(O,{provider:i.dw.Posts,onClick:function(){p({event_name:a.VB.SubmitSearch,extra:JSON.stringify({query:r,provider:i.dw.Posts,filters:{time:f,contentCuration:v}})}),c({provider:i.dw.Posts,query:r})}},ie("div",{className:"flex items-center justify-center text-text-tertiary typo-subhead"},"See more posts ",ie(u.HK,{className:"!size-4 rotate-90"})))))}}}]);