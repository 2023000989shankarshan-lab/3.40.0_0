"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[7715,9686],{84606:(e,t,n)=>{n.r(t),n.d(t,{OTHER_KEY:()=>b,ReasonSelectionModal:()=>y,default:()=>O});var r=n(33998),o=n(34900),a=n(22155),i=n(35234),l=n(53823),s=n(83448),u=n(94198),c=n(16714),d=n(72870),p=n(64142),f=["onReport","reasons","heading","title","footer","disabled"],m=a.createElement,b="OTHER";function y(e){var t=e.onReport,n=e.reasons,y=e.heading,O=e.title,g=e.footer,S=e.disabled,v=(0,o.A)(e,f),R=(0,a.useState)(null),A=R[0],h=R[1],I=(0,a.useState)(),P=I[0],E=I[1],k=(0,d.G6)(d.bh.MobileL),F={disabled:!A||A===b&&!P||S,onClick:function(e){return t(e,A,P)}};return m(u.aF,(0,r.A)({isOpen:!0,kind:u.aF.Kind.FixedCenter},v,{formProps:{form:null,title:y,rightButtonProps:F,copy:{right:"Submit report"}}}),m(u.aF.Header,{title:y}),m(u.aF.Body,{className:"py-5"},O&&m("p",{className:"mb-6 text-text-tertiary typo-callout"},O),m(i.s,{name:"report_reason",options:"function"==typeof n?n(A):n,value:A,onChange:h}),m("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),m("textarea",{onInput:function(e){return E(e.currentTarget.value)},onFocus:function(){A||h(p.dV.Other)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-surface-float p-2 typo-body","data-testid":"report_comment"}),k?g:null),m(u.aF.Footer,{justify:g&&!k?c.F1.Between:c.F1.End},k?null:g,m(l.$n,{variant:s.Ak.Primary,disabled:!A||A===b&&!P||S,onClick:function(e){return t(e,A,P)}},"Submit report")))}const O=y},93781:(e,t,n)=>{n.r(t),n.d(t,{ReportUserModal:()=>b,default:()=>y});var r=n(22155),o=n(80009),a=n(84606),i=n(64142),l=n(95412),s=n(36899),u=n(81712),c=n(80244),d=n(68392),p=n(89883),f=r.createElement,m=[{value:"INAPPROPRIATE",label:"Inappropriate or NSFW content"},{value:"TROLLING",label:"Trolling or disruptive behavior"},{value:"HARASSMENT",label:"Harassment or bullying"},{value:"IMPERSONATION",label:"Impersonation or false identity"},{value:"SPAM",label:"Spam or unsolicited advertising"},{value:"MISINFORMATION",label:"Misinformation or false claims"},{value:"HATEFUL",label:"Hate speech or discrimination"},{value:"PRIVACY",label:"Privacy or copyright violation"},{value:"PLAGIARISM",label:"Plagiarism or content theft"},{value:"OTHER",label:"Other"}],b=function(e){var t=e.offendingUser,n=e.defaultBlockUser,b=e.feedId,y=e.onBlockUser,O=(0,p.d)().closeModal,g=(0,d.mu)().displayToast,S=(0,c.Z2)().user,v=(0,r.useState)(n),R=v[0],A=v[1],h=(0,o.n)({mutationFn:function(){return s.e.request(u.q9,{id:t.id,entity:u.ZD.User,feedId:null!=b?b:null==S?void 0:S.id})},onSuccess:function(){g("🚫 ".concat(t.username," has been blocked")),null==y||y()},onError:function(){g("❌ Failed to block ".concat(t.username))},onSettled:function(){return O()}}),I=h.isPending,P=h.mutateAsync,E=(0,o.n)({mutationFn:function(e){var n=e.reason,r=e.text;return s.e.request(i._q,{id:t.id,type:i.kt.User,reason:n,comment:r})},onSuccess:function(){R||g("🗒️ ".concat(t.username," has been reported"))},onError:function(){g("❌ Failed to report ".concat(t.username))},onSettled:function(){return O()}}),k=E.isPending,F=E.mutateAsync,N=I||k,T=n||N;return f(a.ReasonSelectionModal,{isOpen:!0,onReport:function(e,t,n){e.preventDefault(),F({reason:t,text:n}),R&&P()},disabled:N,reasons:m,onRequestClose:O,heading:"Select reason for reporting",footer:f(l.S,{name:"blockUser",className:"font-normal",disabled:T,onChange:function(e){return A(e.target.checked)},checked:R},"Block ",t.username)})};const y=b},64142:(e,t,n)=>{n.d(t,{UR:()=>f,_q:()=>p,dV:()=>d,kt:()=>c});var r,o=n(21441),a=n(45322),i=n(2972),l=n(36899);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return e.Post="post",e.Source="source",e.Comment="comment",e.User="user",e}({}),d=function(e){return e.Nsfw="NSFW",e.Other="OTHER",e.Broken="BROKEN",e.Clickbait="CLICKBAIT",e.Low="LOW",e.Irrelevant="IRRELEVANT",e.Spam="SPAM",e.Harassment="HARASSMENT",e.Hateful="HATEFUL",e.Copyright="COPYRIGHT",e.Privacy="PRIVACY",e.Miscategorized="MISCATEGORIZED",e.Misinformation="MISINFORMATION",e.Illegal="ILLEGAL",e.Paywall="PAYWALL",e}({}),p=(0,i.gql)(r||(r=(0,a.A)(["\n  mutation SendReport(\n    $type: ReportEntity!\n    $id: ID!\n    $reason: ReportReason!\n    $comment: String\n    $tags: [String]\n  ) {\n    sendReport(\n      type: $type\n      id: $id\n      reason: $reason\n      comment: $comment\n      tags: $tags\n    ) {\n      _\n    }\n  }\n"]))),f=function(e){return function(e){return l.e.request(p,e)}(u(u({},e),{},{type:c.Source}))}}}]);