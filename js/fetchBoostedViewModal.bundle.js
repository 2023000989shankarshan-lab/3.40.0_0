"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[3185],{70590:(e,t,a)=>{a.r(t),a.d(t,{BoostedViewModal:()=>P,FetchBoostedViewModal:()=>A,stopBoostPromptOptions:()=>E});var n=a(33998),r=a(35001),l=a(21441),o=a(34900),s=a(13318),i=a.n(s),c=a(22155),u=a(5698),p=a(65025),d=a(89173),f=a(94198),m=a(7547),v=a(69790),b=a(27840),g=a(19505),y=a(83448),h=a(53823),x=a(13707),w=a(30530),O=a(80244),k=["campaign","isLoading","onBoostAgain","onBack"],N=["campaignId"],S=c.createElement;function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={title:"Stop this boost?",description:"If you stop this boost now, it will no longer be promoted. We'll credit the remaining Cores back to your balance for the unused budget",okButton:{title:"Stop boost",color:g.h.Ketchup,className:"flex !w-full"},cancelButton:{className:"flex !w-full",variant:y.Ak.Float},className:{buttons:"flex !flex-col-reverse w-full"}};function P(e){var t=e.campaign,a=e.isLoading,l=e.onBoostAgain,s=e.onBack,c=(0,o.A)(e,k),g=(0,O.Z2)().user,N=(0,u.jE)(),j=(0,b.k)().showPrompt,P=s||function(){return c.onRequestClose(null)},A=(0,v.P)({onCancelSuccess:function(e){if(!e.transactionId)return P();var a=t.referenceId;if(t.type===m.pR.Post&&((0,w.kh)(N,a,(function(e){return{flags:C(C({},e.flags),{},{campaignId:null})}})),N.setQueryData((0,w.UH)(a),(function(e){return e?C(C({},e),{},{post:C(C({},e.post),{},{flags:C(C({},e.post.flags),{},{campaignId:null})})}):e}))),t.type===m.pR.Squad){var n,r=(0,w.$h)(w.jZ.Squad,g,null===(n=t.source)||void 0===n?void 0:n.handle);N.setQueryData(r,(function(e){return e?C(C({},e),{},{flags:C(C({},e.flags),{},{campaignId:null})}):e}))}return P()}}),B=A.onCancelBoost,D=A.isLoadingCancel,I=function(){var e=(0,r.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ACTIVE"!==t.state){e.next=6;break}return e.next=3,j(E);case 3:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",B(t.id));case 6:return e.abrupt("return",l(t));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(f.aF,(0,n.A)({},c,{isOpen:!0,kind:f.aF.Kind.FixedCenter,size:f.aF.Size.Small}),S(f.aF.Header,{className:"flex flex-row gap-2"},!!s&&S(h.$n,{onClick:s,className:"hidden tablet:flex",variant:y.Ak.Tertiary,icon:S(x.HK,{className:"-rotate-90"})}),S(f.aF.Header.Title,null,"Boost")),S(f.aF.Body,{className:"flex flex-col gap-4"},S("span",{className:"flex flex-row items-center justify-between"},S(f.aF.Subtitle,null,"Overview"),S(p.q,{status:t.state})),S(d._,{campaign:t,isLoading:a||D,onBoostClick:I})))}function A(e){var t=e.campaignId,a=(0,o.A)(e,N),r=(0,m._Z)(t),l=r.data;return r.isLoading?S(f.aF,(0,n.A)({},a,{isOpen:!0,kind:f.aF.Kind.FixedCenter,size:f.aF.Size.Small}),S(f.aF.Header,{title:"Boost",showCloseButton:!1}),S("div",{className:"flex flex-col gap-4 py-4"},S("span",{className:"text-text-quaternary typo-caption1"},"Fetching data, please hold..."),S(d.a,{users:0,spend:0,impressions:0}))):l?S(P,(0,n.A)({},a,{campaign:l})):S(f.aF,(0,n.A)({},a,{isOpen:!0,kind:f.aF.Kind.FixedCenter,size:f.aF.Size.Small}),S(f.aF.Header,{title:"Boost",showCloseButton:!1}),S("div",{className:"flex flex-col gap-4 py-4"},S("span",{className:"text-text-quaternary typo-caption1"},"No campaign found"),S(d.a,{users:0,spend:0,impressions:0})))}},65025:(e,t,a)=>{a.d(t,{q:()=>h,g:()=>w});var n=a(30395),r=a.n(n),l=a(22155),o=a(97838),s=a(13707),i=a(67380),c=a(24125),u=a(7547),p=a(68390),d=a(41536),f=l.createElement;function m(e){var t,a,n,l=e.post,s=(null===(t=l.sharedPost)||void 0===t?void 0:t.image)||l.image;return f("span",{className:"flex flex-1 flex-row items-center gap-2"},f(d._V,{src:s,className:r()("rounded-12 object-cover",o.Bb[o.lK.Size48])}),f("span",{className:"flex flex-1"},f(i.o5,{type:i.kR.Callout,className:"line-clamp-2 flex-1 text-left",style:{lineBreak:"anywhere"},color:i.X8.Secondary},null!==(a=l.title)&&void 0!==a?a:null===(n=l.sharedPost)||void 0===n?void 0:n.title)))}var v=l.createElement;function b(e){var t=e.squad;return v("span",{className:"flex flex-1 flex-row items-center gap-2"},t.image&&v(d._V,{src:t.image,className:r()("rounded-max object-cover",o.Bb[o.lK.Size48])}),v("div",{className:"flex flex-col"},v("span",{className:"flex flex-1"},v(i.o5,{type:i.kR.Callout,className:"line-clamp-1 flex-1 text-left",style:{lineBreak:"anywhere"},bold:!0},t.name)),v("span",{className:"flex flex-1"},v(i.o5,{type:i.kR.Subhead,color:i.X8.Tertiary,className:"line-clamp-1 flex-1 text-left",style:{lineBreak:"anywhere"}},t.name))))}var g=l.createElement,y={ACTIVE:"bg-action-upvote-active text-action-upvote-default",COMPLETED:"bg-action-share-active text-action-share-default",CANCELLED:"bg-surface-float text-text-secondary"},h=function(e){var t,a=e.status,n=e.remainingDays,l=function(){switch(a){case"ACTIVE":return(0,p.hX)(n)?"Active":"".concat(n," ").concat(1===n?"day":"days"," left");case"COMPLETED":return"Completed";case"CANCELLED":return"Stopped";default:return"Unknown"}}();return g(i.o5,{tag:i.UL.Span,type:i.kR.Footnote,className:r()("rounded-6 px-1",null!==(t=y[a])&&void 0!==t?t:y.ACTIVE)},l)},x=function(e){var t=e.campaign;switch(t.type){case u.pR.Post:return g(m,{post:t.post});case u.pR.Squad:return g(b,{squad:t.source});default:return null}};function w(e){var t=e.campaign,a=e.className,n=e.onClick;return g("button",{type:"button",onClick:n,className:r()("flex w-full flex-row items-center gap-4 hover:bg-surface-hover",a)},g(x,{campaign:t}),g(h,{status:t.state,remainingDays:function(){if("ACTIVE"===t.state)return(0,c.v)(new Date(t.endedAt),new Date)}()}),g(s.HK,{size:o.lK.Medium,className:"rotate-90"}))}},89173:(e,t,a)=>{a.d(t,{_:()=>U,a:()=>_});var n,r=a(22155),l=a(30395),o=a.n(l),s=a(67380),i=a(53823),c=a(83448),u=a(19505),p=a(96888),d=a(97838),f=a(28880),m=a(82940),v=a(81602),b=r.createElement,g=function(e){var t=e.label,a=e.value,n=e.info,r=e.icon,l=e.subtitle,i=e.className;return b("div",{className:o()("flex flex-col gap-1 rounded-14 border border-border-subtlest-tertiary p-4",null==i?void 0:i.container)},b("span",{className:"flex flex-row items-center gap-1"},b(s.o5,{type:s.kR.Footnote},t),b(m.m,{content:n,enableMobileClick:!0},b("span",{className:"text-text-disabled"},b(f.m,{size:d.lK.Size16})))),b("span",{className:"flex flex-row items-center gap-1"},r,b(s.o5,{type:s.kR.Title2,bold:!0},(0,v.H_)(a))),l)},y=a(33998);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(null,arguments)}const x=function(e){return r.createElement("svg",h({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=r.createElement("g",{fill:"currentcolor"},r.createElement("path",{d:"M14.507 4.806l-.225-.006H9.657l-.211.005-.217.016-.216.028A4.1 4.1 0 005.65 7.947a1.028 1.028 0 001.512 1.135l.094-.062.1-.084.095-.103.069-.097c.062-.098.104-.2.13-.307l.045-.16a2.05 2.05 0 011.642-1.387l.166-.02.157-.005h4.628l.154.007.15.017.163.031c.806.188 1.433.86 1.56 1.7l.018.161.005.152v1.133l-.856-.855-.095-.085-.122-.084-.126-.06a1.016 1.016 0 00-1.29 1.41l.077.119.097.114 2.616 2.619.093.084.126.086.123.06c.25.102.519.105.756.011l.117-.056.116-.075.104-.088 2.618-2.618.085-.093.084-.122.057-.114a1.017 1.017 0 00-1.405-1.303l-.12.076-.114.096-.881.881-.003-1.14-.005-.205-.016-.216-.026-.206a4.117 4.117 0 00-3.632-3.472l-.209-.016zM6.872 10.488a1.01 1.01 0 00-.725.093l-.109.07-.112.095-2.619 2.618-.084.093-.085.122-.056.114a1.02 1.02 0 00.717 1.395l.121.018.12.004.139-.014.108-.023.076-.024a.99.99 0 00.131-.058l.112-.07.115-.097.88-.881.004 1.14.005.205.016.216.026.206a4.117 4.117 0 003.632 3.472l.209.016.218.006h4.632l.211-.005.217-.016.216-.028a4.1 4.1 0 003.363-3.098 1.03 1.03 0 00-.247-.945l-.093-.086-.086-.064-.098-.059-.08-.037a.99.99 0 00-.397-.079c-.474 0-.887.325-.998.788l-.046.16a2.05 2.05 0 01-1.642 1.387l-.166.02-.157.005H9.712l-.154-.007-.15-.017-.164-.031a2.061 2.061 0 01-1.559-1.7l-.018-.161-.005-.152v-1.136l.856.858.095.085.124.085.1.052a.97.97 0 00.192.064l.124.018.12.005.139-.014.146-.035.118-.047a1.017 1.017 0 00.475-1.394l-.077-.119-.097-.114-2.613-2.617-.105-.092-.115-.08-.134-.065-.138-.045z"}))))};var w;function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},O.apply(null,arguments)}const k=function(e){return r.createElement("svg",O({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),w||(w=r.createElement("g",{fill:"currentcolor"},r.createElement("path",{d:"M14.918 5.005L14.712 5h-5.49l-.198.005-.198.015A3.734 3.734 0 005.57 7.868a.75.75 0 001.102.827l.077-.051.073-.063.07-.078a.746.746 0 00.135-.284 2.243 2.243 0 011.845-1.692l.171-.02.172-.007h5.509l.158.006.164.018a2.253 2.253 0 011.894 1.894l.02.166.005.166v1.716l-1.258-1.26-.081-.072-.091-.06a.738.738 0 00-1.017.986l.063.097.072.082 2.532 2.534.08.072.094.062a.739.739 0 00.625.045l.095-.047.085-.056.075-.066 2.533-2.533.072-.081.06-.09a.735.735 0 00-.123-.883.739.739 0 00-.862-.135l-.098.063-.082.072-1.27 1.27-.004-1.71-.004-.193-.015-.197a3.75 3.75 0 00-3.333-3.345l-.196-.016zM6.544 11.049a.736.736 0 00-.613.039l-.088.058-.082.071-2.533 2.534-.073.08-.06.092a.741.741 0 00.488 1.083l.098.014.087.001.102-.011.076-.018a.746.746 0 00.142-.057l.09-.058.082-.072 1.27-1.27.004 1.71.005.193.014.197a3.75 3.75 0 003.333 3.345l.197.015.199.006h5.496l.198-.005.198-.015a3.734 3.734 0 003.255-2.848.75.75 0 00-.179-.688l-.077-.07-.061-.045-.074-.043a.754.754 0 00-.339-.08.748.748 0 00-.727.575 2.244 2.244 0 01-1.845 1.692l-.17.02-.173.007H9.276l-.159-.006-.164-.019a2.253 2.253 0 01-1.894-1.893l-.019-.166-.006-.166v-1.716l1.258 1.26.082.072.092.061a.74.74 0 00.2.077l.102.015.087.001.101-.011.108-.028a.738.738 0 00.418-1.04l-.064-.098-.072-.082-2.53-2.532-.089-.079-.085-.056-.098-.046z"}))))};var N=r.createElement,S=function(e){return N(d.Ay,(0,y.A)({},e,{IconPrimary:k,IconSecondary:x}))},j=a(58067),C=a(24125),E=a(7547),P=a(9895),A=a(81565),B=a(63423),D="The total number of times your boosted posts were shown to users",I="The total number of unique users that has seen your boosted post",F="The total number of cores spent so far",T="The total number of new members that has joined the Squad",q=(0,B.A)("div","flex flex-row items-center gap-4 rounded-16 border border-border-subtlest-tertiary p-2 pl-3"),z=a(94198),R=a(35953),K=a(41536),L=r.createElement;function M(e){var t,a,n,r,l=e.post;return L(q,null,L("span",{className:"flex flex-1 flex-row"},L(s.o5,{type:s.kR.Callout,className:"line-clamp-3 flex-1",style:{lineBreak:"anywhere"},color:s.X8.Secondary},null!==(t=l.title)&&void 0!==t?t:null===(a=l.sharedPost)||void 0===a?void 0:a.title)),L(K._V,{src:null!==(n=null===(r=l.sharedPost)||void 0===r?void 0:r.image)&&void 0!==n?n:l.image,className:"h-12 w-18 rounded-12 object-cover"}),L(i.$n,{icon:L(R.S,null),variant:c.Ak.Tertiary,tag:"a",href:l.commentsPermalink}))}var V=a(63952),H=r.createElement;function X(e){var t=e.squad;return H(q,null,H("div",{className:"flex flex-1 flex-col"},H("span",{className:"flex flex-1 flex-row"},H(s.o5,{type:s.kR.Callout,className:"line-clamp-1 flex-1",style:{lineBreak:"anywhere"}},t.name)),H("span",{className:"flex flex-1 flex-row"},H(s.o5,{type:s.kR.Subhead,className:"line-clamp-1 flex flex-1 flex-row",style:{lineBreak:"anywhere"},color:s.X8.Tertiary},"Squad ",H(V.wv,null)," @",t.handle))),H(K._V,{src:t.image,className:"ml-auto h-12 w-12 rounded-max object-cover"}),H(i.$n,{icon:H(R.S,null),variant:c.Ak.Tertiary,tag:"a",href:t.permalink}))}var Z=a(68390),$=r.createElement,_=function(e){var t=e.className,a=e.spend,n=e.users,r=e.members,l=e.impressions;return $("div",{className:o()("grid grid-cols-2 gap-4",t)},$(g,{label:"Spend",value:a,info:F,icon:$(p.t,{size:d.lK.XSmall})}),$(g,{label:"Impressions",value:l,info:D}),$(g,{label:"Users",value:n,info:I}),!(0,Z.hX)(r)&&$(g,{label:"New members",value:r,info:T}))},Q=function(e){var t=e.campaign;switch(t.type){case E.pR.Post:return $(M,{post:t.post});case E.pR.Squad:return $(X,{squad:t.source});default:return null}};function U(e){var t=e.campaign,a=e.isLoading,n=e.onBoostClick,l="ACTIVE"===t.state,f=(0,r.useMemo)((function(){var e=new Date(t.createdAt),a=new Date(t.endedAt),n=(0,C.v)(a,e);return{endsIn:l?(0,C.v)(a,new Date):n,startedIn:(0,C.v)(new Date,e),totalDays:n}}),[t,l]),m=(0,r.useMemo)((function(){return"ACTIVE"!==t.state?100:f.startedIn/f.totalDays*100}),[t.state,f]),b=0===f.endsIn?"Ends in less than a day":1===f.endsIn?"Ends tomorrow":"Ends in ".concat(f.endsIn," days");return $("div",{className:"flex flex-col gap-6"},$(Q,{campaign:t}),$("div",{className:"flex flex-col gap-1"},$(j.z,{percentage:m,shouldShowBg:!0,className:{wrapper:"h-2 rounded-6"}}),$("span",{className:"flex flex-row justify-between"},$(s.o5,{type:s.kR.Subhead,color:s.X8.Secondary},"Started"," ",$(P.o,{date:t.createdAt,type:A.pT.Post})),l&&$(s.o5,{type:s.kR.Subhead,color:s.X8.Secondary},b)),$(_,{className:"mt-3",spend:t.flags.spend,users:t.flags.users,impressions:t.flags.impressions,members:t.type===E.pR.Squad?t.flags.newMembers||0:void 0})),$("div",{className:"h-px w-full bg-border-subtlest-tertiary"}),$("div",{className:"flex flex-col gap-2"},$(z.aF.Subtitle,null,"Summary"),$(s.o5,{type:s.kR.Callout,className:"flex flex-row items-center"},$(p.t,{className:"mr-1",size:d.lK.Size16})," ",(0,v.H_)(t.flags.budget)," | ",f.totalDays," ",1===f.totalDays?"day":"days")),$(i.$n,{variant:c.Ak.Float,className:o()("w-full",{"bg-action-downvote-float hover:bg-action-downvote-hover":l}),pressed:l,color:l&&u.h.Ketchup,icon:!l&&$(S,{secondary:!0}),onClick:n,disabled:a,loading:a},l?"Stop campaign":"Boost again"))}},69790:(e,t,a)=>{a.d(t,{P:()=>g});var n=a(35001),r=a(21441),l=a(13318),o=a.n(l),s=a(5698),i=a(80009),c=a(7547),u=a(30530),p=a(80244),d=a(68390),f=a(53304),m=a(68392);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.onBoostSuccess,r=t.onCancelSuccess,l=(0,s.jE)(),v=(0,m.mu)().displayToast,g=(0,p.Z2)(),y=g.user,h=g.updateUser,x=(0,i.n)({mutationFn:c.J,onSuccess:function(e,t){if(e.transactionId){var n=null==e?void 0:e.balance;(0,d.hX)(n)||h(b(b({},y),{},{balance:n})),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Transactions,y),exact:!1}),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Campaigns,y),exact:!1}),null==a||a(e,t)}},onError:(0,f.K)()}).mutateAsync,w=(0,i.n)({mutationFn:c.Jr,onSuccess:(e=(0,n.A)(o().mark((function e(t,a){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transactionId){e.next=2;break}return e.abrupt("return");case 2:n=null==t?void 0:t.balance,(0,d.hX)(n)||h(b(b({},y),{},{balance:n})),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Transactions,y),exact:!1}),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Campaigns,y),exact:!1}),v("Post boost canceled!"),null==r||r(t,a);case 8:case"end":return e.stop()}}),e)}))),function(t,a){return e.apply(this,arguments)})});return{onStartBoost:x,onCancelBoost:w.mutateAsync,isLoadingCancel:w.isPending}}},24125:(e,t,a)=>{a.d(t,{v:()=>r});var n=a(72213),r=function(e,t){var a=(0,n.A)(e),r=(0,n.A)(t),l=Math.abs(a.getTime()-r.getTime())/864e5;return Math.floor(l)}},53304:(e,t,a)=>{a.d(t,{K:()=>b});var n=a(21441),r=a(35001),l=a(13318),o=a.n(l),s={id:"u1",username:"ido",bio:"Software Engineer in the most amazing company in the globe",name:"Ido Shamun",providers:["github"],email:"ido@acme.com",image:"https://daily.dev/ido.png",infoConfirmed:!0,premium:!1,createdAt:(new Date).toISOString(),permalink:"https://app.daily.dev/Ido",balance:{amount:0}};const i=s;var c=a(80244),u=a(36899),p=a(37567),d=a(4315),f=a(68392);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=function(){var e=(0,f.mu)().displayToast,t=(0,c.Z2)().updateUser;return function(){var a=(0,r.A)(o().mark((function a(n){var r,l,s;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((null===(r=n.response.errors)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.extensions)||void 0===r?void 0:r.code)!==u.hD.BalanceTransactionError){a.next=5;break}if((s=n.response.errors[0]).extensions.status!==p.kr.InsufficientFunds||!s.extensions.balance){a.next=5;break}return a.next=5,t(v(v({},i),{},{balance:s.extensions.balance}));case 5:e((null==n||null===(l=n.response)||void 0===l||null===(l=l.errors)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.message)||d.W.error.generic);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}}]);