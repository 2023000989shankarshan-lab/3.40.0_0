"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[3317,4257],{38792:(e,t,a)=>{a.r(t),a.d(t,{ActionSuccessModal:()=>y});var r=a(33998),n=a(34900),o=a(22155),l=a(53823),s=a(83448),c=a(67380),i=a(94198),u=a(74689),d=a(72870),m=a(41536),p=["cta","secondaryCta","content","withCloseOnTablet"],f=o.createElement;function y(e){var t=e.cta,a=e.secondaryCta,o=e.content,y=e.withCloseOnTablet,b=(0,n.A)(e,p),h=o.title,g=o.description,v=o.body,S=o.cover,C=o.coverDrawer,O=(0,d.G6)(d.bh.Tablet),k=O?S:C||S;return f(i.aF,(0,r.A)({size:i.aF.Size.Small,kind:i.aF.Kind.FixedCenter},b,{isOpen:!0,isDrawerOnMobile:!0}),f(i.aF.Body,{className:"flex flex-col gap-3 py-1 tablet:!p-4"},f("div",{className:"relative flex flex-row overflow-hidden rounded-16"},f(u.O,{className:"hidden tablet:flex",right:"2",top:"2",size:s.Mp.Small,onClick:b.onRequestClose,variant:s.Ak.Primary}),k&&f("div",{className:"relative h-full max-h-56 min-h-52 w-full"},f(m._V,{className:"absolute",src:k,alt:"Success"}))),f("div",{className:"mt-2 flex flex-col gap-2"},f(c.o5,{type:b.size===i.aF.Size.XSmall?c.kR.Title3:c.kR.Title2,center:!0,bold:!0},h),f(c.o5,{type:c.kR.Body,color:O?c.X8.Secondary:c.X8.Tertiary,center:!0},g)),v,t&&f(l.$n,(0,r.A)({variant:s.Ak.Primary,className:"w-full",type:"button"},t),t.copy),a&&f(l.$n,(0,r.A)({variant:s.Ak.Float,className:"w-full",type:"button"},a),a.copy),y&&f(l.$n,{variant:s.Ak.Float,className:"hidden w-full tablet:flex",type:"button",onClick:b.onRequestClose},"Close")))}},57400:(e,t,a)=>{a.r(t),a.d(t,{BoostSquadModal:()=>X,default:()=>z});var r=a(33998),n=a(21441),o=a(56594),l=a(34900),s=a(13706),c=a.n(s),i=a(22155),u=a(5698),d=a(94198),m=a(67380),p=a(53823),f=a(83448),y=a(80244),b=a(96888),h=a(60665),g=a(41536),v=a(81602),S=a(97838),C=a(57952),O=a(12602),k=a(69790),x=a(89883),w=a(77955),R=a(38792),j=a(16763),N=a(54883),A=a(34229),P=a(30794),F=a(7547),q=a(68506),B=a(63952),T=a(30530),D=["squad"],E=i.createElement;function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=c()((function(){return a.e(2168).then(a.bind(a,62168)).then((function(e){return e.Slider}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[62168]}}}),Z={FORM:"FORM",BUY_CORES:"BUY_CORES",SUCCESS:"SUCCESS"};function X(e){var t=e.squad,a=(0,l.A)(e,D),n=(0,y.Z2)().user,s=(0,u.jE)(),c=(0,x.d)().openModal,K=(0,i.useState)(Z.FORM),X=K[0],z=K[1],I=i.useState(F.c1),U=(0,o.A)(I,2),_=U[0],Y=U[1],V=i.useState(F.rC),L=(0,o.A)(V,2),Q=L[0],G=L[1],J=(0,i.useState)({coresPerDay:_,totalDays:Q}),H=J[0],W=J[1],ee=(0,A.A)(W,400),te=(0,o.A)(ee,1)[0],ae=_*Q,re=(0,v.Kt)(ae),ne=!!t.image&&!!t.headerImage&&!!t.description,oe=(0,q.$)({type:F.pR.Squad,query:{budget:H.coresPerDay},referenceId:t.id,enabled:ne}),le=oe.estimatedReach,se=oe.isLoading,ce=(0,k.P)({onBoostSuccess:function(e){e.referenceId&&s.setQueryData((0,T.$h)(T.jZ.Squad,n,t.handle),(function(t){return t?M(M({},t),{},{flags:M(M({},t.flags),{},{campaignId:e.referenceId})}):t})),z(Z.SUCCESS)}}).onStartBoost;if(X===Z.BUY_CORES)return E(O.IA,{isOpen:!0,product:null,onCompletion:function(){return z(Z.FORM)},onRequestClose:function(){return z(Z.FORM)},amountNeededCopy:E(m.o5,{type:m.kR.Callout,color:m.X8.Secondary},"You need"," ",E("strong",null,Math.abs(n.balance.amount-ae).toLocaleString()," ","more Cores")," ","to boost the Squad."),origin:C.$e.SquadBoost});if(X===Z.SUCCESS)return E(R.ActionSuccessModal,(0,r.A)({},a,{cta:{copy:"Ads dashboard",onClick:function(){return c({type:w.K2.AdsDashboard})}},secondaryCta:{copy:"Learn more about boosting",tag:"a",href:N.ZZ,target:"_blank"},content:{title:"Squad boosted successfully!",description:"Your Squad is now being promoted and will start reaching more developers shortly. You can track its performance anytime from the ads dashboard.",cover:j.Gh}}));var ie=Math.max(le.min,le.max),ue=function(){if(se||!ne)return E(P.a,{"data-testid":"loader"});var e=(0,v.Kt)(le.min),t=(0,v.Kt)(ie);return"".concat(e," - ").concat(t)}();return E(d.aF,(0,r.A)({},a,{isOpen:!0,shouldCloseOnOverlayClick:!1,kind:d.aF.Kind.FixedCenter,size:d.aF.Size.Small}),E(d.aF.Header,{className:"items-center"},E(m.o5,{type:m.kR.Title3,bold:!0},"Boost your Squad"),E("div",{className:"ml-4 flex flex-row rounded-10 bg-surface-float"},E(p.$n,{icon:E(b.t,null),size:f.Mp.Small,variant:f.Ak.Tertiary,target:"_blank",href:N.JY,tag:"a"},(0,v.Kt)(n.balance.amount)),E("div",{className:"my-1 border-l border-border-subtlest-tertiary"}),E(p.$n,{icon:E(h.c,null),size:f.Mp.Small,variant:f.Ak.Tertiary,onClick:function(){return z("BUY_CORES")}}))),E(d.aF.Body,{className:"flex flex-col !gap-6"},E(m.o5,{type:m.kR.Callout,color:m.X8.Secondary},"Our auto-targeting engine finds developers most likely to join your Squad, so that it grows faster, stronger, and with the right people.",E("a",{href:N.ZZ,className:"ml-1 text-text-link",target:"_blank"},"Learn more")),E("div",{className:"rounded-16 bg-surface-float"},E("div",{className:"flex flex-row items-center gap-5 p-2"},E("div",{className:"ml-2"},E(m.o5,{type:m.kR.Callout,className:"line-clamp-1 flex-1",bold:!0},t.name),E(m.o5,{type:m.kR.Subhead,className:"line-clamp-1 flex-1",color:m.X8.Tertiary},"Squad ",E(B.wv,null)," @",t.handle)),E(g._V,{className:"ml-auto h-12 w-12 rounded-max",src:t.image})),E("div",{className:"flex flex-col items-center rounded-16 bg-surface-float p-3"},E(m.o5,{type:m.kR.Title3,bold:!0},re," Cores over ",Q," days"),E(m.o5,{type:m.kR.Callout,color:m.X8.Tertiary},"Total spend"),E(m.o5,{className:"mt-2 min-h-[1.375rem]",type:m.kR.Body},ue),E(m.o5,{type:m.kR.Callout,color:m.X8.Tertiary},"Estimated daily reach"))),E("div",{className:"flex flex-col"},E(m.o5,{type:m.kR.Callout,color:m.X8.Tertiary},"Budget"),E("span",{className:"flex items-center gap-2"},E(b.t,null),E(m.o5,{type:m.kR.Body,className:"flex items-center",bold:!0},(0,v.Kt)(_||0)," Cores per day")),E($,{className:"mt-2 w-full",min:1e3,max:1e5,step:1e3,defaultValue:[_],onValueChange:function(e){var t=(0,o.A)(e,1)[0];te((function(e){return M(M({},e),{},{coresPerDay:t})})),Y(t)}}),E(m.o5,{className:"mt-4",type:m.kR.Callout,color:m.X8.Tertiary},"Duration"),E(m.o5,{type:m.kR.Body,bold:!0},Q," days"),E($,{className:"mt-2 w-full",min:1,max:30,step:1,defaultValue:[Q],onValueChange:function(e){var t=(0,o.A)(e,1)[0];return G(t)}}))),E(d.aF.Footer,null,E(p.$n,{variant:f.Ak.Primary,className:"w-full",type:"button",onClick:function(){return n.balance.amount<ae?z(Z.BUY_CORES):ce({duration:Q,budget:_,value:t.id,type:F.pR.Squad})},disabled:!ne||se},"Boost Squad for ",E(b.t,{className:"mx-1",size:S.lK.Small}),re)))}const z=X},68506:(e,t,a)=>{a.d(t,{$:()=>c});var r=a(77535),n=a(7547),o=a(30530),l=a(80244),s={min:0,max:0},c=function(e){var t=e.type,a=e.query,c=e.enabled,i=void 0===c||c,u=e.referenceId,d=(0,l.Z2)().user,m=(0,o.$h)(o.jZ.Campaigns,d,"estimate",u,t,a),p=(0,r.I)({queryKey:m,queryFn:function(){return(0,n.RV)({type:t,value:u,budget:a.budget})},enabled:i,placeholderData:s,staleTime:o.b2.Default}),f=p.data,y=p.isPending,b=p.isRefetching,h=p.isFetched;return{estimatedReach:null!=f?f:s,isLoading:y||b,isFetched:h}}},69790:(e,t,a)=>{a.d(t,{P:()=>h});var r=a(35001),n=a(21441),o=a(13318),l=a.n(o),s=a(5698),c=a(80009),i=a(7547),u=a(30530),d=a(80244),m=a(68390),p=a(53304),f=a(68392);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.onBoostSuccess,n=t.onCancelSuccess,o=(0,s.jE)(),y=(0,f.mu)().displayToast,h=(0,d.Z2)(),g=h.user,v=h.updateUser,S=(0,c.n)({mutationFn:i.J,onSuccess:function(e,t){if(e.transactionId){var r=null==e?void 0:e.balance;(0,m.hX)(r)||v(b(b({},g),{},{balance:r})),o.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Transactions,g),exact:!1}),o.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Campaigns,g),exact:!1}),null==a||a(e,t)}},onError:(0,p.K)()}).mutateAsync,C=(0,c.n)({mutationFn:i.Jr,onSuccess:(e=(0,r.A)(l().mark((function e(t,a){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transactionId){e.next=2;break}return e.abrupt("return");case 2:r=null==t?void 0:t.balance,(0,m.hX)(r)||v(b(b({},g),{},{balance:r})),o.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Transactions,g),exact:!1}),o.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Campaigns,g),exact:!1}),y("Post boost canceled!"),null==n||n(t,a);case 8:case"end":return e.stop()}}),e)}))),function(t,a){return e.apply(this,arguments)})});return{onStartBoost:S,onCancelBoost:C.mutateAsync,isLoadingCancel:C.isPending}}}}]);