"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[3185,4528],{1626:(e,t,a)=>{a.r(t),a.d(t,{AdsDashboardModal:()=>D,default:()=>I});var n=a(33998),r=a(34900),l=a(22155),o=a(77535),s=a(94198),i=a(69135),c=a(80244),u=a(7547),d=a(30530),p=a(59645),f={spend:0,users:0,clicks:0,impressions:0,newMembers:0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entityId,a=e.first,n=void 0===a?20:a,r=e.enabled,l=void 0===r||r,o=(0,c.Z2)().user,s=(0,d.$h)(d.jZ.Campaigns,o,{first:n,entityId:t}),f=(0,i.q)({queryKey:s,queryFn:function(e){var a=e.pageParam;return(0,u.ME)({first:n,after:a,entityId:t})},initialPageParam:"",getNextPageParam:function(e,t,a){return a===(0,d.iP)(null==e?void 0:e.pageInfo)?null:(0,d.iP)(null==e?void 0:e.pageInfo)},enabled:!!o&&!!l,staleTime:d.b2.Default}),m=f.data,g=f.isPending,v=f.isFetched;return{data:m,isLoading:g&&!v,infiniteScrollingProps:{isFetchingNextPage:f.isFetchingNextPage,fetchNextPage:f.fetchNextPage,canFetchMore:(0,p.c)(f)}}},g=a(9062),v=a(97838),b=a(13707),y=l.createElement,h=y("div",{className:"flex w-full flex-row items-center gap-4 py-2"},y(g._,{className:"h-12 w-12 rounded-8"}),y("div",{className:"flex h-full flex-1 flex-col justify-center gap-2"},y(g._,{className:"h-3 w-full rounded-8"}),y(g._,{className:"h-3 w-3/5 rounded-8"})),y(b.HK,{size:v.lK.Medium,className:"rotate-90 text-text-disabled"}));function x(){return y("div",{className:"flex flex-col items-center gap-4"},h,h)}var w=a(70590),N=a(67380),k=a(28889),S=a(65025),O=a(54883),P=l.createElement;function C(e){var t=e.list,a=e.onClick,r=e.infiniteScrollingProps;return null!=t&&t.length?P(p.A,(0,n.A)({},r,{placeholder:P(x,null),className:"-mx-6 flex-1 overflow-x-hidden"}),t.map((function(e){return P(S.g,{key:e.id,campaign:e,onClick:function(){return a(e)},className:"px-6 py-2"})}))):P("div",{className:"flex flex-col items-center gap-4"},P(k.x,{secondary:!0,className:"text-text-disabled",size:v.lK.XXLarge}),P(N.o5,{type:N.kR.Title2,bold:!0},"No running ads yet"),P(N.o5,{color:N.X8.Tertiary,type:N.kR.Callout,className:"text-center"},"Learn how boosting works and launch your first campaign to get discovered by more developers."),P("a",{href:O.ZZ,className:"mt-3 text-text-link typo-callout",target:"_blank"},"Learn more about boosting"))}var j=a(89173),A=a(89883),E=a(77955),F=["initialCampaign"],B=l.createElement;function D(e){var t=e.initialCampaign,a=(0,r.A)(e,F),i=(0,A.d)().openModal,p=(0,c.Z2)().user,g=m(),v=g.data,b=g.isLoading,y=g.infiniteScrollingProps,h=(0,o.I)({queryKey:(0,d.$h)(d.jZ.Campaigns,p,"stats"),queryFn:u.h,staleTime:d.b2.Default,enabled:!!p,placeholderData:f}).data,k=(0,l.useState)(t),S=k[0],P=k[1],D=(0,l.useMemo)((function(){return null==v?void 0:v.pages.flatMap((function(e){return e.edges.map((function(e){return e.node}))}))}),[v]);return S?B(w.BoostedViewModal,(0,n.A)({},a,{campaign:S,isLoading:b,onBoostAgain:function(e){var t=e.type,a=e.post,n=e.source;switch(t){case u.pR.Post:return i({type:E.K2.BoostPost,props:{post:a}});case u.pR.Squad:return i({type:E.K2.BoostSquad,props:{squad:n}});default:return null}},onBack:function(){return P(null)},onRequestClose:a.onRequestClose})):B(s.aF,(0,n.A)({},a,{isOpen:!0,kind:s.aF.Kind.FixedCenter,size:s.aF.Size.Small}),B(s.aF.Header,{title:"Ads dashboard",showCloseButton:!0}),B(s.aF.Body,{className:"flex flex-col gap-4 overflow-x-hidden"},B(s.aF.Subtitle,null,"Overview all time"),B(j.a,{spend:h.spend,users:h.users,impressions:h.impressions,members:h.newMembers}),B(s.aF.Subtitle,null,"Active ads"),!b&&!(null==D||!D.length)&&B("div",{className:"flex flex-col gap-1"},B(N.o5,{type:N.kR.Callout,color:N.X8.Secondary},"Learn how boosting works and launch your first campaign to get discovered by more developers."),B("a",{href:O.ZZ,className:"text-text-link typo-callout",target:"_blank"},"Learn more about boosting")),b?B(x,null):B(C,{list:D,onClick:P,infiniteScrollingProps:y})))}const I=D},70590:(e,t,a)=>{a.r(t),a.d(t,{BoostedViewModal:()=>A,FetchBoostedViewModal:()=>E,stopBoostPromptOptions:()=>j});var n=a(33998),r=a(35001),l=a(21441),o=a(34900),s=a(13318),i=a.n(s),c=a(22155),u=a(5698),d=a(65025),p=a(89173),f=a(94198),m=a(7547),g=a(69790),v=a(27840),b=a(19505),y=a(83448),h=a(53823),x=a(13707),w=a(30530),N=a(80244),k=["campaign","isLoading","onBoostAgain","onBack"],S=["campaignId"],O=c.createElement;function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j={title:"Stop this boost?",description:"If you stop this boost now, it will no longer be promoted. We'll credit the remaining Cores back to your balance for the unused budget",okButton:{title:"Stop boost",color:b.h.Ketchup,className:"flex !w-full"},cancelButton:{className:"flex !w-full",variant:y.Ak.Float},className:{buttons:"flex !flex-col-reverse w-full"}};function A(e){var t=e.campaign,a=e.isLoading,l=e.onBoostAgain,s=e.onBack,c=(0,o.A)(e,k),b=(0,N.Z2)().user,S=(0,u.jE)(),P=(0,v.k)().showPrompt,A=s||function(){return c.onRequestClose(null)},E=(0,g.P)({onCancelSuccess:function(e){if(!e.transactionId)return A();var a=t.referenceId;if(t.type===m.pR.Post&&((0,w.kh)(S,a,(function(e){return{flags:C(C({},e.flags),{},{campaignId:null})}})),S.setQueryData((0,w.UH)(a),(function(e){return e?C(C({},e),{},{post:C(C({},e.post),{},{flags:C(C({},e.post.flags),{},{campaignId:null})})}):e}))),t.type===m.pR.Squad){var n,r=(0,w.$h)(w.jZ.Squad,b,null===(n=t.source)||void 0===n?void 0:n.handle);S.setQueryData(r,(function(e){return e?C(C({},e),{},{flags:C(C({},e.flags),{},{campaignId:null})}):e}))}return A()}}),F=E.onCancelBoost,B=E.isLoadingCancel,D=function(){var e=(0,r.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ACTIVE"!==t.state){e.next=6;break}return e.next=3,P(j);case 3:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",F(t.id));case 6:return e.abrupt("return",l(t));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O(f.aF,(0,n.A)({},c,{isOpen:!0,kind:f.aF.Kind.FixedCenter,size:f.aF.Size.Small}),O(f.aF.Header,{className:"flex flex-row gap-2"},!!s&&O(h.$n,{onClick:s,className:"hidden tablet:flex",variant:y.Ak.Tertiary,icon:O(x.HK,{className:"-rotate-90"})}),O(f.aF.Header.Title,null,"Boost")),O(f.aF.Body,{className:"flex flex-col gap-4"},O("span",{className:"flex flex-row items-center justify-between"},O(f.aF.Subtitle,null,"Overview"),O(d.q,{status:t.state})),O(p._,{campaign:t,isLoading:a||B,onBoostClick:D})))}function E(e){var t=e.campaignId,a=(0,o.A)(e,S),r=(0,m._Z)(t),l=r.data;return r.isLoading?O(f.aF,(0,n.A)({},a,{isOpen:!0,kind:f.aF.Kind.FixedCenter,size:f.aF.Size.Small}),O(f.aF.Header,{title:"Boost",showCloseButton:!1}),O("div",{className:"flex flex-col gap-4 py-4"},O("span",{className:"text-text-quaternary typo-caption1"},"Fetching data, please hold..."),O(p.a,{users:0,spend:0,impressions:0}))):l?O(A,(0,n.A)({},a,{campaign:l})):O(f.aF,(0,n.A)({},a,{isOpen:!0,kind:f.aF.Kind.FixedCenter,size:f.aF.Size.Small}),O(f.aF.Header,{title:"Boost",showCloseButton:!1}),O("div",{className:"flex flex-col gap-4 py-4"},O("span",{className:"text-text-quaternary typo-caption1"},"No campaign found"),O(p.a,{users:0,spend:0,impressions:0})))}},65025:(e,t,a)=>{a.d(t,{q:()=>h,g:()=>w});var n=a(30395),r=a.n(n),l=a(22155),o=a(97838),s=a(13707),i=a(67380),c=a(24125),u=a(7547),d=a(68390),p=a(41536),f=l.createElement;function m(e){var t,a,n,l=e.post,s=(null===(t=l.sharedPost)||void 0===t?void 0:t.image)||l.image;return f("span",{className:"flex flex-1 flex-row items-center gap-2"},f(p._V,{src:s,className:r()("rounded-12 object-cover",o.Bb[o.lK.Size48])}),f("span",{className:"flex flex-1"},f(i.o5,{type:i.kR.Callout,className:"line-clamp-2 flex-1 text-left",style:{lineBreak:"anywhere"},color:i.X8.Secondary},null!==(a=l.title)&&void 0!==a?a:null===(n=l.sharedPost)||void 0===n?void 0:n.title)))}var g=l.createElement;function v(e){var t=e.squad;return g("span",{className:"flex flex-1 flex-row items-center gap-2"},t.image&&g(p._V,{src:t.image,className:r()("rounded-max object-cover",o.Bb[o.lK.Size48])}),g("div",{className:"flex flex-col"},g("span",{className:"flex flex-1"},g(i.o5,{type:i.kR.Callout,className:"line-clamp-1 flex-1 text-left",style:{lineBreak:"anywhere"},bold:!0},t.name)),g("span",{className:"flex flex-1"},g(i.o5,{type:i.kR.Subhead,color:i.X8.Tertiary,className:"line-clamp-1 flex-1 text-left",style:{lineBreak:"anywhere"}},t.name))))}var b=l.createElement,y={ACTIVE:"bg-action-upvote-active text-action-upvote-default",COMPLETED:"bg-action-share-active text-action-share-default",CANCELLED:"bg-surface-float text-text-secondary"},h=function(e){var t,a=e.status,n=e.remainingDays,l=function(){switch(a){case"ACTIVE":return(0,d.hX)(n)?"Active":"".concat(n," ").concat(1===n?"day":"days"," left");case"COMPLETED":return"Completed";case"CANCELLED":return"Stopped";default:return"Unknown"}}();return b(i.o5,{tag:i.UL.Span,type:i.kR.Footnote,className:r()("rounded-6 px-1",null!==(t=y[a])&&void 0!==t?t:y.ACTIVE)},l)},x=function(e){var t=e.campaign;switch(t.type){case u.pR.Post:return b(m,{post:t.post});case u.pR.Squad:return b(v,{squad:t.source});default:return null}};function w(e){var t=e.campaign,a=e.className,n=e.onClick;return b("button",{type:"button",onClick:n,className:r()("flex w-full flex-row items-center gap-4 hover:bg-surface-hover",a)},b(x,{campaign:t}),b(h,{status:t.state,remainingDays:function(){if("ACTIVE"===t.state)return(0,c.v)(new Date(t.endedAt),new Date)}()}),b(s.HK,{size:o.lK.Medium,className:"rotate-90"}))}},89173:(e,t,a)=>{a.d(t,{_:()=>U,a:()=>$});var n,r=a(22155),l=a(30395),o=a.n(l),s=a(67380),i=a(53823),c=a(83448),u=a(19505),d=a(96888),p=a(97838),f=a(28880),m=a(82940),g=a(81602),v=r.createElement,b=function(e){var t=e.label,a=e.value,n=e.info,r=e.icon,l=e.subtitle,i=e.className;return v("div",{className:o()("flex flex-col gap-1 rounded-14 border border-border-subtlest-tertiary p-4",null==i?void 0:i.container)},v("span",{className:"flex flex-row items-center gap-1"},v(s.o5,{type:s.kR.Footnote},t),v(m.m,{content:n,enableMobileClick:!0},v("span",{className:"text-text-disabled"},v(f.m,{size:p.lK.Size16})))),v("span",{className:"flex flex-row items-center gap-1"},r,v(s.o5,{type:s.kR.Title2,bold:!0},(0,g.H_)(a))),l)},y=a(33998);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(null,arguments)}const x=function(e){return r.createElement("svg",h({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=r.createElement("g",{fill:"currentcolor"},r.createElement("path",{d:"M14.507 4.806l-.225-.006H9.657l-.211.005-.217.016-.216.028A4.1 4.1 0 005.65 7.947a1.028 1.028 0 001.512 1.135l.094-.062.1-.084.095-.103.069-.097c.062-.098.104-.2.13-.307l.045-.16a2.05 2.05 0 011.642-1.387l.166-.02.157-.005h4.628l.154.007.15.017.163.031c.806.188 1.433.86 1.56 1.7l.018.161.005.152v1.133l-.856-.855-.095-.085-.122-.084-.126-.06a1.016 1.016 0 00-1.29 1.41l.077.119.097.114 2.616 2.619.093.084.126.086.123.06c.25.102.519.105.756.011l.117-.056.116-.075.104-.088 2.618-2.618.085-.093.084-.122.057-.114a1.017 1.017 0 00-1.405-1.303l-.12.076-.114.096-.881.881-.003-1.14-.005-.205-.016-.216-.026-.206a4.117 4.117 0 00-3.632-3.472l-.209-.016zM6.872 10.488a1.01 1.01 0 00-.725.093l-.109.07-.112.095-2.619 2.618-.084.093-.085.122-.056.114a1.02 1.02 0 00.717 1.395l.121.018.12.004.139-.014.108-.023.076-.024a.99.99 0 00.131-.058l.112-.07.115-.097.88-.881.004 1.14.005.205.016.216.026.206a4.117 4.117 0 003.632 3.472l.209.016.218.006h4.632l.211-.005.217-.016.216-.028a4.1 4.1 0 003.363-3.098 1.03 1.03 0 00-.247-.945l-.093-.086-.086-.064-.098-.059-.08-.037a.99.99 0 00-.397-.079c-.474 0-.887.325-.998.788l-.046.16a2.05 2.05 0 01-1.642 1.387l-.166.02-.157.005H9.712l-.154-.007-.15-.017-.164-.031a2.061 2.061 0 01-1.559-1.7l-.018-.161-.005-.152v-1.136l.856.858.095.085.124.085.1.052a.97.97 0 00.192.064l.124.018.12.005.139-.014.146-.035.118-.047a1.017 1.017 0 00.475-1.394l-.077-.119-.097-.114-2.613-2.617-.105-.092-.115-.08-.134-.065-.138-.045z"}))))};var w;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N.apply(null,arguments)}const k=function(e){return r.createElement("svg",N({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),w||(w=r.createElement("g",{fill:"currentcolor"},r.createElement("path",{d:"M14.918 5.005L14.712 5h-5.49l-.198.005-.198.015A3.734 3.734 0 005.57 7.868a.75.75 0 001.102.827l.077-.051.073-.063.07-.078a.746.746 0 00.135-.284 2.243 2.243 0 011.845-1.692l.171-.02.172-.007h5.509l.158.006.164.018a2.253 2.253 0 011.894 1.894l.02.166.005.166v1.716l-1.258-1.26-.081-.072-.091-.06a.738.738 0 00-1.017.986l.063.097.072.082 2.532 2.534.08.072.094.062a.739.739 0 00.625.045l.095-.047.085-.056.075-.066 2.533-2.533.072-.081.06-.09a.735.735 0 00-.123-.883.739.739 0 00-.862-.135l-.098.063-.082.072-1.27 1.27-.004-1.71-.004-.193-.015-.197a3.75 3.75 0 00-3.333-3.345l-.196-.016zM6.544 11.049a.736.736 0 00-.613.039l-.088.058-.082.071-2.533 2.534-.073.08-.06.092a.741.741 0 00.488 1.083l.098.014.087.001.102-.011.076-.018a.746.746 0 00.142-.057l.09-.058.082-.072 1.27-1.27.004 1.71.005.193.014.197a3.75 3.75 0 003.333 3.345l.197.015.199.006h5.496l.198-.005.198-.015a3.734 3.734 0 003.255-2.848.75.75 0 00-.179-.688l-.077-.07-.061-.045-.074-.043a.754.754 0 00-.339-.08.748.748 0 00-.727.575 2.244 2.244 0 01-1.845 1.692l-.17.02-.173.007H9.276l-.159-.006-.164-.019a2.253 2.253 0 01-1.894-1.893l-.019-.166-.006-.166v-1.716l1.258 1.26.082.072.092.061a.74.74 0 00.2.077l.102.015.087.001.101-.011.108-.028a.738.738 0 00.418-1.04l-.064-.098-.072-.082-2.53-2.532-.089-.079-.085-.056-.098-.046z"}))))};var S=r.createElement,O=function(e){return S(p.Ay,(0,y.A)({},e,{IconPrimary:k,IconSecondary:x}))},P=a(58067),C=a(24125),j=a(7547),A=a(9895),E=a(81565),F=a(63423),B="The total number of times your boosted posts were shown to users",D="The total number of unique users that has seen your boosted post",I="The total number of cores spent so far",T="The total number of new members that has joined the Squad",q=(0,F.A)("div","flex flex-row items-center gap-4 rounded-16 border border-border-subtlest-tertiary p-2 pl-3"),K=a(94198),R=a(35953),M=a(41536),z=r.createElement;function L(e){var t,a,n,r,l=e.post;return z(q,null,z("span",{className:"flex flex-1 flex-row"},z(s.o5,{type:s.kR.Callout,className:"line-clamp-3 flex-1",style:{lineBreak:"anywhere"},color:s.X8.Secondary},null!==(t=l.title)&&void 0!==t?t:null===(a=l.sharedPost)||void 0===a?void 0:a.title)),z(M._V,{src:null!==(n=null===(r=l.sharedPost)||void 0===r?void 0:r.image)&&void 0!==n?n:l.image,className:"h-12 w-18 rounded-12 object-cover"}),z(i.$n,{icon:z(R.S,null),variant:c.Ak.Tertiary,tag:"a",href:l.commentsPermalink}))}var Z=a(63952),X=r.createElement;function H(e){var t=e.squad;return X(q,null,X("div",{className:"flex flex-1 flex-col"},X("span",{className:"flex flex-1 flex-row"},X(s.o5,{type:s.kR.Callout,className:"line-clamp-1 flex-1",style:{lineBreak:"anywhere"}},t.name)),X("span",{className:"flex flex-1 flex-row"},X(s.o5,{type:s.kR.Subhead,className:"line-clamp-1 flex flex-1 flex-row",style:{lineBreak:"anywhere"},color:s.X8.Tertiary},"Squad ",X(Z.wv,null)," @",t.handle))),X(M._V,{src:t.image,className:"ml-auto h-12 w-12 rounded-max object-cover"}),X(i.$n,{icon:X(R.S,null),variant:c.Ak.Tertiary,tag:"a",href:t.permalink}))}var V=a(68390),_=r.createElement,$=function(e){var t=e.className,a=e.spend,n=e.users,r=e.members,l=e.impressions;return _("div",{className:o()("grid grid-cols-2 gap-4",t)},_(b,{label:"Spend",value:a,info:I,icon:_(d.t,{size:p.lK.XSmall})}),_(b,{label:"Impressions",value:l,info:B}),_(b,{label:"Users",value:n,info:D}),!(0,V.hX)(r)&&_(b,{label:"New members",value:r,info:T}))},Q=function(e){var t=e.campaign;switch(t.type){case j.pR.Post:return _(L,{post:t.post});case j.pR.Squad:return _(H,{squad:t.source});default:return null}};function U(e){var t=e.campaign,a=e.isLoading,n=e.onBoostClick,l="ACTIVE"===t.state,f=(0,r.useMemo)((function(){var e=new Date(t.createdAt),a=new Date(t.endedAt),n=(0,C.v)(a,e);return{endsIn:l?(0,C.v)(a,new Date):n,startedIn:(0,C.v)(new Date,e),totalDays:n}}),[t,l]),m=(0,r.useMemo)((function(){return"ACTIVE"!==t.state?100:f.startedIn/f.totalDays*100}),[t.state,f]),v=0===f.endsIn?"Ends in less than a day":1===f.endsIn?"Ends tomorrow":"Ends in ".concat(f.endsIn," days");return _("div",{className:"flex flex-col gap-6"},_(Q,{campaign:t}),_("div",{className:"flex flex-col gap-1"},_(P.z,{percentage:m,shouldShowBg:!0,className:{wrapper:"h-2 rounded-6"}}),_("span",{className:"flex flex-row justify-between"},_(s.o5,{type:s.kR.Subhead,color:s.X8.Secondary},"Started"," ",_(A.o,{date:t.createdAt,type:E.pT.Post})),l&&_(s.o5,{type:s.kR.Subhead,color:s.X8.Secondary},v)),_($,{className:"mt-3",spend:t.flags.spend,users:t.flags.users,impressions:t.flags.impressions,members:t.type===j.pR.Squad?t.flags.newMembers||0:void 0})),_("div",{className:"h-px w-full bg-border-subtlest-tertiary"}),_("div",{className:"flex flex-col gap-2"},_(K.aF.Subtitle,null,"Summary"),_(s.o5,{type:s.kR.Callout,className:"flex flex-row items-center"},_(d.t,{className:"mr-1",size:p.lK.Size16})," ",(0,g.H_)(t.flags.budget)," | ",f.totalDays," ",1===f.totalDays?"day":"days")),_(i.$n,{variant:c.Ak.Float,className:o()("w-full",{"bg-action-downvote-float hover:bg-action-downvote-hover":l}),pressed:l,color:l&&u.h.Ketchup,icon:!l&&_(O,{secondary:!0}),onClick:n,disabled:a,loading:a},l?"Stop campaign":"Boost again"))}},69790:(e,t,a)=>{a.d(t,{P:()=>b});var n=a(35001),r=a(21441),l=a(13318),o=a.n(l),s=a(5698),i=a(80009),c=a(7547),u=a(30530),d=a(80244),p=a(68390),f=a(53304),m=a(68392);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.onBoostSuccess,r=t.onCancelSuccess,l=(0,s.jE)(),g=(0,m.mu)().displayToast,b=(0,d.Z2)(),y=b.user,h=b.updateUser,x=(0,i.n)({mutationFn:c.J,onSuccess:function(e,t){if(e.transactionId){var n=null==e?void 0:e.balance;(0,p.hX)(n)||h(v(v({},y),{},{balance:n})),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Transactions,y),exact:!1}),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Campaigns,y),exact:!1}),null==a||a(e,t)}},onError:(0,f.K)()}).mutateAsync,w=(0,i.n)({mutationFn:c.Jr,onSuccess:(e=(0,n.A)(o().mark((function e(t,a){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transactionId){e.next=2;break}return e.abrupt("return");case 2:n=null==t?void 0:t.balance,(0,p.hX)(n)||h(v(v({},y),{},{balance:n})),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Transactions,y),exact:!1}),l.invalidateQueries({queryKey:(0,u.$h)(u.jZ.Campaigns,y),exact:!1}),g("Post boost canceled!"),null==r||r(t,a);case 8:case"end":return e.stop()}}),e)}))),function(t,a){return e.apply(this,arguments)})});return{onStartBoost:x,onCancelBoost:w.mutateAsync,isLoadingCancel:w.isPending}}},24125:(e,t,a)=>{a.d(t,{v:()=>r});var n=a(72213),r=function(e,t){var a=(0,n.A)(e),r=(0,n.A)(t),l=Math.abs(a.getTime()-r.getTime())/864e5;return Math.floor(l)}},53304:(e,t,a)=>{a.d(t,{K:()=>v});var n=a(21441),r=a(35001),l=a(13318),o=a.n(l),s={id:"u1",username:"ido",bio:"Software Engineer in the most amazing company in the globe",name:"Ido Shamun",providers:["github"],email:"ido@acme.com",image:"https://daily.dev/ido.png",infoConfirmed:!0,premium:!1,createdAt:(new Date).toISOString(),permalink:"https://app.daily.dev/Ido",balance:{amount:0}};const i=s;var c=a(80244),u=a(36899),d=a(37567),p=a(4315),f=a(68392);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(){var e=(0,f.mu)().displayToast,t=(0,c.Z2)().updateUser;return function(){var a=(0,r.A)(o().mark((function a(n){var r,l,s;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((null===(r=n.response.errors)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.extensions)||void 0===r?void 0:r.code)!==u.hD.BalanceTransactionError){a.next=5;break}if((s=n.response.errors[0]).extensions.status!==d.kr.InsufficientFunds||!s.extensions.balance){a.next=5;break}return a.next=5,t(g(g({},i),{},{balance:s.extensions.balance}));case 5:e((null==n||null===(l=n.response)||void 0===l||null===(l=l.errors)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.message)||p.W.error.generic);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}}]);