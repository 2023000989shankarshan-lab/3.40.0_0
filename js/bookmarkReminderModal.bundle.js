"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[8164],{20758:(e,t,n)=>{n.r(t),n.d(t,{BookmarkReminderModal:()=>K,default:()=>R});var r=n(34900),a=n(35001),o=n(21441),i=n(56594),l=n(13318),u=n.n(l),s=n(22155),c=n(46625),m=n(94198),d=n(49096),p=n(89113),f=n(77955),k=n(53823),v=n(83448),A=n(9899),w=n(93526),x=n(27504),b=["feedContextData"],y=s.createElement,h=Object.entries(A.KB).filter((function(e){var t=(0,i.A)(e,2)[1],n=(new Date).getHours()>=19;return!(A.KB.LaterToday===t&&n)})).map((function(e){var t=(0,i.A)(e,2);return{key:t[0],value:t[1]}})),B=(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},A.KB.OneHour,null),A.KB.LaterToday,"h:mm a"),A.KB.Tomorrow,"eee, h:mm a"),A.KB.TwoDays,"eee, h:mm a"),A.KB.NextWeek,"eee, MMM d, h:mm a"),C=function(e){var t=e.option,n=e.onClick,r=e.isActive,a=t.value,o=new Date,i=B[a],l=i&&(0,c.A)((0,A.nG)(o,a),i);return y(k.$n,{"aria-checked":r,"aria-label":a,className:"w-full",name:"bookmarkReminder",onClick:n,role:"radio",type:"button",value:a,variant:r?v.Ak.Float:v.Ak.Option},y("span",{className:"flex-1 text-left"},a,l&&y("span",{className:"text-text-quaternary"}," (",l,")")))},K=function(e){var t=e.post,n=e.onReminderSet,r=e.isOpen,o=e.onRequestClose,i=(0,s.useState)(A.KB.OneHour),l=i[0],c=i[1],w=(0,A.WL)({post:t}).onBookmarkReminder,x=function(){var e=(0,a.A)(u().mark((function e(r){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),null==n||n(l),w({existingReminder:null===(a=t.bookmark)||void 0===a?void 0:a.remindAt,postId:t.id,preference:l}).then((function(){o(null)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return y(m.aF,{drawerProps:{title:"Set reminder",className:{title:"!block text-center border-transparent !typo-title2 pb-2"}},isDrawerOnMobile:r,isOpen:r,onRequestClose:o,size:f.rI.Small},y(d.rQ,{title:"Set reminder"}),y(p.c,null,y("form",{onSubmit:x},y("div",{role:"radiogroup","aria-required":!0,"aria-label":"Reminder time options",tabIndex:0},h.map((function(e){return y(C,{key:e.key,onClick:function(){return c(e.value)},isActive:l===e.value,option:e})}))),y("div",{className:"mt-5 flex flex-row justify-center"},y(k.$n,{className:"w-full responsiveModalBreakpoint:w-auto",variant:v.Ak.Primary},"Set reminder")))))};const R=function(e){var t=e.feedContextData,n=(0,r.A)(e,b);return y(x.A,{condition:!!t,wrapper:function(e){return y(w.c.Provider,{value:t},e)}},y(K,n))}}}]);