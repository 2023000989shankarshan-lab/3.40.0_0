"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[8933],{8933:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ee});var a=t(22155),r=t(95974),l=t(67380),o=t(81602),i=t(4621),u=t(9149),c=t(97838),s=t(91850),d=t(83448),v=t(80446),m=t(80009),p=t(30395),h=t.n(p),f=t(87822),g=t(89883),y=t(77955),b=t(35001),w=t(13318),A=t.n(w),S=t(48389),q=t(27840),k=t(72046),x=t(61663),I=t(57952),N=t(19505),L=t(8952),M=t(85017),z=t(43298),D=t(40013),E=t(26540),O=t(7942),F=t(72255),R=t(22354),j=t(75472),P=t(76368),B=t(60471),C=t(54883),K=t(6433),Z=t(80244),V=t(81712),H=t(33189),T=t(75487),X=t(53823),_=a.createElement,U=function(e){var n=e.Icon;return _(n,{size:c.lK.Small,className:"mr-2"})};function G(e){var n=e.squad,t=e.className,r=(0,Z.Z2)().isLoggedIn,l=(0,K.t)({squad:n,origin:I.$e.SquadPage}).logAndCopyLink,o=(0,v.useRouter)(),i=(0,g.d)().openModal,u=(0,L.i)().editSquad,c=(0,H.s)(),s=c.follow,p=c.unfollow,w=function(e){var n=e.squad,t=e.callback,r=(0,x.DX)().logEvent,l=(0,q.k)().showPrompt,o=(0,k.o)().deleteSquad,i=function(){var e=(0,b.A)(A().mark((function e(){var a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:"Delete ".concat(n.name),description:n.active?"Deleting ".concat(n.name," means you and all Squad members will lose access to all posts that were shared in the Squad. Are you sure?"):"Deleting your Squad will free up your handle and members you invited will not be able to join",okButton:{title:"Yes, delete Squad",color:N.h.Ketchup}},e.next=3,l(a);case 3:if(!e.sent){e.next=10;break}return r({event_name:I.VB.DeleteSquad,extra:JSON.stringify({squad:n.id})}),e.next=7,(0,S.KG)(n.id);case 7:return o(n.id),e.next=10,null==t?void 0:t();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useMemo)((function(){return{onDeleteSquad:i}}),[i])}({squad:n,callback:function(){return o.replace("/")}}),G=w.onDeleteSquad,J=(0,m.n)({mutationFn:(0,M.t)({squad:n}),onSuccess:function(e){e&&o.replace("/")}}).mutateAsync,W=(0,a.useMemo)((function(){var e,t=(0,S.pZ)(n,f.Wk.Edit),a=(0,S.pZ)(n,f.Wk.Delete),c=[{icon:_(U,{Icon:z.y}),action:function(){return i({type:y.K2.AddToCustomFeed,props:{onAdd:function(e){return s({id:n.id,entity:V.ZD.Source,entityName:n.handle,feedId:e})},onUndo:function(e){return p({id:n.id,entity:V.ZD.Source,entityName:n.handle,feedId:e})},onCreateNewFeed:function(){return o.push("/feeds/new?entityId=".concat(n.id,"&entityType=").concat(V.ZD.Source))}}})},label:"Add to custom feed"}];(t&&c.push({icon:_(U,{Icon:D.Z}),action:function(){return u({handle:n.handle})},label:"Squad settings"}),!n.currentMember&&n.public&&r&&c.push({icon:_(U,{Icon:E.q}),action:function(){return l()},label:"Invitation link"}),c.push({icon:_(U,{Icon:O.s}),action:function(){return i({type:y.K2.SquadTour})},label:"Learn how Squads work"}),n.currentMember)&&c.push({icon:_(U,{Icon:F.h}),anchorProps:{href:"".concat(C.Sn,"#user_id=").concat(null==n||null===(e=n.currentMember)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.id,"&squad_id=").concat(n.id),target:"_blank"},label:"Feedback"});return c.push({icon:_(U,{Icon:R.i}),action:function(){return i({type:y.K2.ReportSource,props:{squad:n}})},label:"Report Squad"}),a&&c.push({icon:_(U,{Icon:j.u}),action:G,label:"Delete Squad"}),n.currentMember&&n.currentMember.role!==f._h.Admin&&c.push({icon:_(U,{Icon:P.G}),action:function(){J({})},label:"Leave Squad"}),c}),[u,G,l,J,i,n,r,s,p,o]);return _(T.rI,null,_(T.ty,{tooltip:{content:"Squad options"},asChild:!0},_(X.$n,{className:h()("order-4 tablet:order-5",null==t?void 0:t.button),variant:d.Ak.Float,icon:_(B.Z,null),size:d.Mp.Small})),_(T.SQ,null,_(T.x3,{options:W})))}var J=t(63952),W=t(99584),$=t(52706),Q=t(15840),Y=a.createElement;const ee=function(e){var n=e.handle,t=e.origin,v=e.className,m=(0,s.C)({handle:n}).squad,p=(0,Q.A)({entityId:null==m?void 0:m.id,entityType:V.ZD.Source}).isLoading;if(!m)return null;var h=m||{},f=h.description,g=h.name,y=h.image,b=h.membersCount,w=h.flags,A=h.permalink;return Y($.A,{permalink:A,image:y,type:"squad",className:{container:null==v?void 0:v.container,image:"size-10 rounded-full"},entityName:g,actionButtons:!p&&Y(a.Fragment,null,Y(i.D,{className:{button:"order-6"},size:d.Mp.Small,copy:{join:"Join",leave:"Leave"},squad:m,origin:t}),Y(G,{squad:m,className:{button:"!btn-tertiary invisible group-hover/menu:visible"}}))},Y("div",{className:"mt-3 flex w-full flex-col gap-2"},Y(r.A,{passHref:!0,href:A},Y(l.o5,{tag:l.UL.Link,className:"flex",type:l.kR.Body,color:l.X8.Primary,bold:!0},g)),f&&Y(W.A,{copy:f,length:100}),Y("div",{className:"flex items-center text-text-tertiary"},(null==w?void 0:w.featured)&&Y(a.Fragment,null,Y("div",{className:"flex items-center gap-1 text-brand-default"},Y(u.p,{size:c.lK.Size16}),Y(l.o5,{type:l.kR.Footnote},"Featured")),Y(J.wv,null)),Y(l.o5,{type:l.kR.Footnote,color:l.X8.Tertiary},(0,o.Kt)(b)," Members"),Y(J.wv,null),Y(l.o5,{type:l.kR.Footnote,color:l.X8.Tertiary},(0,o.Kt)(null==w?void 0:w.totalUpvotes)," Upvotes"))))}},76368:(e,n,t)=>{t.d(n,{G:()=>m});var a,r=t(33998),l=t(22155),o=t(97838);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(null,arguments)}const u=function(e){return l.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),a||(a=l.createElement("path",{d:"M10.5 3l.212.005A4.5 4.5 0 0115 7.5v.75a.75.75 0 11-1.5 0V7.5l-.005-.176A3 3 0 0010.5 4.5h-3a3 3 0 00-2.995 2.824L4.5 7.5v9a3 3 0 002.824 2.995l.176.005h3l.176-.005A3 3 0 0013.5 16.5v-.75a.75.75 0 111.5 0v.75l-.005.212A4.5 4.5 0 0110.5 21h-3a4.5 4.5 0 01-4.495-4.288L3 16.5v-9a4.5 4.5 0 014.288-4.495L7.5 3h3zm7.198 5.395l.084.072 2.998 3.002c.037.037.07.077.097.12l.05.089.04.104c.022.068.033.142.033.218l-.002.057-.013.091-.008.037-.035.106-.034.069-.055.086a.785.785 0 01-.073.085l-2.998 3.002a.749.749 0 01-1.133-.978l.073-.084 1.718-1.72H9.75a.75.75 0 01-.102-1.495l.102-.006h8.69l-1.718-1.721a.751.751 0 01-.073-.977l.073-.085a.75.75 0 01.976-.072z",fill:"currentcolor",fillRule:"evenodd"})))};var c;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(null,arguments)}const d=function(e){return l.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),c||(c=l.createElement("path",{d:"M10.25 3l.218.005.215.015A4.751 4.751 0 0115 7.75V8a1 1 0 01-2 0v-.25l-.005-.17-.015-.17A2.75 2.75 0 0010.25 5h-2.5a2.75 2.75 0 00-2.73 2.41l-.015.17L5 7.75v8.5a2.75 2.75 0 002.41 2.73l.17.015.17.005h2.5l.17-.005.17-.015A2.75 2.75 0 0013 16.25V16a1 1 0 012 0v.25l-.005.218-.015.215A4.751 4.751 0 0110.25 21h-2.5a4.751 4.751 0 01-4.73-4.317l-.015-.215L3 16.25v-8.5a4.751 4.751 0 014.317-4.73l.215-.015L7.75 3h2.5zm7.364 5.209l.094.083 3 3 .097.112.072.11.053.114.029.082.027.114.012.09.003.117-.015.143-.012.058-.033.109-.033.081-.053.098-.064.092-.04.05-3.043 3.044a1 1 0 01-1.497-1.32l.083-.094 1.293-1.293H9.504a1 1 0 01-.117-1.993l.117-.007h8.081l-1.29-1.293a1 1 0 01-.084-1.32l.083-.094a1 1 0 011.32-.083z",fill:"currentcolor",fillRule:"evenodd"})))};var v=l.createElement,m=function(e){return v(o.Ay,(0,r.A)({},e,{IconPrimary:u,IconSecondary:d}))}},7942:(e,n,t)=>{t.d(n,{s:()=>m});var a,r=t(33998),l=t(22155),o=t(97838);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(null,arguments)}const u=function(e){return l.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),a||(a=l.createElement("path",{d:"M6.978 17.646l-.05.033-.09.071-.05.048-.051.055-.066.087-.031.048-.053.103-.022.054A1 1 0 007.5 19.5h9c1.12 0 2.067-.735 2.385-1.75A2.5 2.5 0 0116.5 21h-9A2.5 2.5 0 015 18.5V6a3 3 0 013-3h8a3 3 0 013 3v8.5a3 3 0 01-3 3H7.5l-.122.007-.032.005-.102.021-.121.04-.075.034-.07.039zM16 4.5H8A1.5 1.5 0 006.5 6v10.208a2.492 2.492 0 011-.208H16a1.5 1.5 0 001.5-1.5V6A1.5 1.5 0 0016 4.5zm-2.97 2.136a.463.463 0 01.107.485l-.969 2.666h2.37a.463.463 0 01.327.79l-3.24 3.287a.462.462 0 01-.762-.485l.969-2.666h-2.37a.462.462 0 01-.327-.79l3.24-3.287c.181-.181.474-.181.655 0z",fill:"currentcolor",fillRule:"evenodd"})))};var c;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(null,arguments)}const d=function(e){return l.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),c||(c=l.createElement("path",{d:"M6.978 17.646l-.05.033-.09.071-.05.048-.051.055-.066.087-.031.048-.053.103-.022.054A1 1 0 007.5 19.5h9c1.12 0 2.067-.735 2.385-1.75A2.5 2.5 0 0116.5 21h-9A2.5 2.5 0 015 18.5V6a3 3 0 013-3h8a3 3 0 013 3v8.5a3 3 0 01-3 3H7.5l-.122.007-.032.005-.102.021-.121.04-.075.034-.07.039zm6.052-11.01a.462.462 0 00-.654 0l-3.24 3.287a.463.463 0 00.326.79h2.37l-.97 2.666a.463.463 0 00.762.485l3.24-3.287a.463.463 0 00-.326-.79h-2.37l.97-2.666a.463.463 0 00-.108-.485z",fill:"currentcolor",fillRule:"evenodd"})))};var v=l.createElement,m=function(e){return v(o.Ay,(0,r.A)({},e,{IconPrimary:u,IconSecondary:d}))}},6433:(e,n,t)=>{t.d(n,{t:()=>c});var a=t(56594),r=t(98235),l=t(61663),o=t(57952),i=t(9495),u=t(71623),c=function(e){var n=e.squad,t=e.origin,c=(0,l.DX)().logEvent,s=(0,i.d)().completeAction,d=n.referralUrl,v=(0,r.L)((function(){return d})),m=(0,a.A)(v,2),p=m[0],h=m[1];return{invitation:d,copying:p,logAndCopyLink:function(){return c({event_name:o.VB.ShareSquadInvitation,extra:JSON.stringify({origin:t,squad:null==n?void 0:n.id})}),s(u.X2.SquadInvite),h()}}}}}]);