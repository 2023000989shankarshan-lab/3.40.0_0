"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[354],{36691:(e,t,n)=>{n.r(t),n.d(t,{PlusIOS:()=>j});var r=n(22155),o=n(13706),i=n.n(o),u=n(80446),l=n(30395),a=n.n(l),s=n(20573),c=n(68390),f=n(54883),p=n(63815),d=n(68392),b=n(92315),v=n(72046),m=n(36899),h=n(19133),g=n(73855),y=n(78710),P=n(84631),w=n(65323),O=n(53823),x=n(83448),C=n(57952),D=r.createElement,k=i()((function(){return n.e(9820).then(n.bind(n,9820)).then((function(e){return e.PlusTrustRefund}))}),{loadableGenerated:{webpack:function(){return[9820]}}}),T=i()((function(){return n.e(5256).then(n.bind(n,95256)).then((function(e){return e.PlusFAQ}))}),{loadableGenerated:{webpack:function(){return[95256]}}}),j=function(e){var t=e.shouldShowPlusHeader,n=e.showModalSection,o=(0,u.useRouter)(),i=(0,d.mu)().displayToast,l=(0,r.useState)(null),j=l[0],S=l[1],F=(0,s.P5)(),N=F.productOptions,A=F.openCheckout,E=F.isPlusAvailable,I=(0,b.L)(),L=I.isPlus,H=I.logSubscriptionEvent,B=(0,r.useState)(!1),M=B[0],G=B[1],K=(0,r.useState)(!1),R=K[0],U=K[1],W=(0,v.o)().getMarketingCta,$=(0,r.useMemo)((function(){return n?(W(w.WA.Plus)||{}).flags:{}}),[W,n]),Q=$.title,V=$.description,X=$.ctaText,Z=(0,r.useMemo)((function(){return(0,p.B6)()&&!!j&&!L&&E}),[L,E,j]),_=(0,r.useCallback)((function(e){var t=e.priceId;S(t)}),[]),q=(0,r.useCallback)((function(){U(!0),H({event_name:C.VB.InitiateCheckout}),A({priceId:j})}),[H,A,j]);return(0,r.useEffect)((function(){return(0,c.HD)("iap-error",(function(e){"userCancelled"!==e.detail?i(m.XW):U(!1)})),(0,c.HD)("iap-loading",(function(e){var t=e.detail;G((0,g.PK)(t))}),{once:!1}).catch((function(){G(!1)})),function(){var e,t;null===globalThis||void 0===globalThis||null===(e=globalThis.eventControllers)||void 0===e||null===(e=e["iap-error"])||void 0===e||e.abort(),null===globalThis||void 0===globalThis||null===(t=globalThis.eventControllers)||void 0===t||null===(t=t["iap-loading"])||void 0===t||t.abort()}}),[i,E,o,j]),(0,r.useEffect)((function(){return R?((0,c.HD)("iap-purchase-result",(function(e){"success"===e.detail&&o.push(f.j$)})),function(){var e;null===globalThis||void 0===globalThis||null===(e=globalThis.eventControllers)||void 0===e||null===(e=e["iap-purchase-result"])||void 0===e||e.abort()}):function(){}}),[R,o]),D("div",{className:"flex flex-1"},!n&&D(h.A,{autoDismissNotifications:!0}),D("div",{className:"flex flex-1 flex-col p-6",ref:function(e){var t,n;e&&(null!=N&&null!==(t=N[0])&&void 0!==t&&t.priceId&&!j&&S(null==N||null===(n=N[0])||void 0===n?void 0:n.priceId))}},!(0,p.B6)()&&D("div",{className:a()("flex flex-wrap items-center rounded-12 border border-border-subtlest-tertiary px-3 py-2 text-text-tertiary typo-callout tablet:mt-1",(t||n)&&"mb-6")},"Plus subscriptions aren't supported in this version of the app. ðŸš€ Upgrade to the latest version to purchase and supercharge your experience!"),D(P.nl,{productOptions:N||[],selectedOption:j,onChange:_,onContinue:!n&&q,shouldShowPlusHeader:t||n,showDailyDevLogo:n,continueEnabled:Z,isContinueLoading:M,showGiftButton:!1,showPlusList:n&&!1,showTrustReviews:n&&!1,title:Q,description:V}),n?D(r.Fragment,null,D(O.$n,{onClick:q,variant:x.Ak.Primary,className:"mt-8"},X)):D(r.Fragment,null,D(k,{className:"mt-6"}),D(T,null))),n&&D(y.A,null))}},73855:(e,t,n)=>{n.d(t,{NF:()=>s,PK:()=>u,rZ:()=>a,vv:()=>l});var r=n(21441),o=n(81602);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=function(e){return"string"==typeof e&&"true"===e.toLowerCase()},l=function(e,t){return"number"!=typeof e?"":e.toLocaleString(["en-US"],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({minimumFractionDigits:2,maximumFractionDigits:2},t))},a=function(e){return e>1e5?(0,o.Kt)(e):l(e,{minimumFractionDigits:0})},s=function(e){var t=e.currency,n=e.amount;return new Intl.NumberFormat(navigator.language,{minimumFractionDigits:2,maximumFractionDigits:2,style:"currency",currency:t}).format(n)}}}]);