"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[861,9686],{84606:(e,t,n)=>{n.r(t),n.d(t,{OTHER_KEY:()=>b,ReasonSelectionModal:()=>y,default:()=>v});var r=n(33998),o=n(34900),a=n(22155),i=n(35234),l=n(53823),s=n(83448),u=n(94198),c=n(16714),d=n(72870),p=n(64142),m=["onReport","reasons","heading","title","footer","disabled"],f=a.createElement,b="OTHER";function y(e){var t=e.onReport,n=e.reasons,y=e.heading,v=e.title,g=e.footer,O=e.disabled,R=(0,o.A)(e,m),S=(0,a.useState)(null),h=S[0],A=S[1],P=(0,a.useState)(),C=P[0],E=P[1],I=(0,d.G6)(d.bh.MobileL),k={disabled:!h||h===b&&!C||O,onClick:function(e){return t(e,h,C)}};return f(u.aF,(0,r.A)({isOpen:!0,kind:u.aF.Kind.FixedCenter},R,{formProps:{form:null,title:y,rightButtonProps:k,copy:{right:"Submit report"}}}),f(u.aF.Header,{title:y}),f(u.aF.Body,{className:"py-5"},v&&f("p",{className:"mb-6 text-text-tertiary typo-callout"},v),f(i.s,{name:"report_reason",options:"function"==typeof n?n(h):n,value:h,onChange:A}),f("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),f("textarea",{onInput:function(e){return E(e.currentTarget.value)},onFocus:function(){h||A(p.dV.Other)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-surface-float p-2 typo-body","data-testid":"report_comment"}),I?g:null),f(u.aF.Footer,{justify:g&&!I?c.F1.Between:c.F1.End},I?null:g,f(l.$n,{variant:s.Ak.Primary,disabled:!h||h===b&&!C||O,onClick:function(e){return t(e,h,C)}},"Submit report")))}const v=y},78491:(e,t,n)=>{n.r(t),n.d(t,{ReportSourceModal:()=>O,default:()=>R});var r=n(33998),o=n(34900),a=n(22155),i=n(80009),l=n(95412),s=n(61663),u=n(84606),c=n(64142),d=n(68392),p=n(85017),m=n(80244),f=n(57952),b=n(4315),y=["squad","onReported","onRequestClose"],v=a.createElement,g=[{value:c.dV.Nsfw,label:"NSFW or inappropriate content"},{value:c.dV.Spam,label:"Spam or excessive self-promotion"},{value:c.dV.Harassment,label:"Harassment and bullying"},{value:c.dV.Hateful,label:"Hate speech and discrimination"},{value:c.dV.Copyright,label:"Copyright violation"},{value:c.dV.Privacy,label:"Privacy violation"},{value:c.dV.Miscategorized,label:"Wrong category"},{value:c.dV.Illegal,label:"Illegal activities and scams"},{value:c.dV.Other,label:"Other"}];function O(e){var t=e.squad,n=e.onReported,O=e.onRequestClose,R=(0,o.A)(e,y),S=(0,s.DX)().logEvent,h=(0,d.mu)().displayToast,A=(0,m.Z2)().squads,P=(0,a.useRef)(),C=(0,p.t)({squad:t}),E=(0,i.n)({mutationFn:function(e){var n=e.reason,r=e.comment;return(0,c.UR)({id:t.id,reason:n,comment:r})},onSuccess:function(){var e;S({event_name:f.VB.ReportSquad,extra:JSON.stringify({squad:t.id})}),h(b.W.reporting.reportFeedbackText),null!==(e=P.current)&&void 0!==e&&e.checked&&C({forceLeave:!0}),null==n||n(),O(null)}}).mutateAsync,I=A.some((function(e){return e.id===t.id}));return v(u.ReasonSelectionModal,(0,r.A)({},R,{onRequestClose:O,isOpen:!0,onReport:function(e,t,n){return E({reason:t,comment:n})},reasons:g,heading:"Report Squad",footer:I&&v(l.S,{ref:P,name:"blockSource",className:"font-normal"},"Report and leave ",t.name)}))}const R=O},64142:(e,t,n)=>{n.d(t,{UR:()=>m,_q:()=>p,dV:()=>d,kt:()=>c});var r,o=n(21441),a=n(45322),i=n(2972),l=n(36899);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return e.Post="post",e.Source="source",e.Comment="comment",e.User="user",e}({}),d=function(e){return e.Nsfw="NSFW",e.Other="OTHER",e.Broken="BROKEN",e.Clickbait="CLICKBAIT",e.Low="LOW",e.Irrelevant="IRRELEVANT",e.Spam="SPAM",e.Harassment="HARASSMENT",e.Hateful="HATEFUL",e.Copyright="COPYRIGHT",e.Privacy="PRIVACY",e.Miscategorized="MISCATEGORIZED",e.Misinformation="MISINFORMATION",e.Illegal="ILLEGAL",e.Paywall="PAYWALL",e}({}),p=(0,i.gql)(r||(r=(0,a.A)(["\n  mutation SendReport(\n    $type: ReportEntity!\n    $id: ID!\n    $reason: ReportReason!\n    $comment: String\n    $tags: [String]\n  ) {\n    sendReport(\n      type: $type\n      id: $id\n      reason: $reason\n      comment: $comment\n      tags: $tags\n    ) {\n      _\n    }\n  }\n"]))),m=function(e){return function(e){return l.e.request(p,e)}(u(u({},e),{},{type:c.Source}))}}}]);